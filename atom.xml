<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Welcome to the world of Avancer</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://toavancer.github.io/"/>
  <updated>2018-06-18T11:46:00.940Z</updated>
  <id>https://toavancer.github.io/</id>
  
  <author>
    <name>Avancer</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>嫁入高门的男人</title>
    <link href="https://toavancer.github.io/2018/06/18/%E5%AB%81%E5%85%A5%E9%AB%98%E9%97%A8%E7%9A%84%E7%94%B7%E4%BA%BA/"/>
    <id>https://toavancer.github.io/2018/06/18/嫁入高门的男人/</id>
    <published>2018-06-18T09:53:52.000Z</published>
    <updated>2018-06-18T11:46:00.940Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><p>之前看到这篇文，是看到小紫扫文推荐的，本来写的时候想引用一下她写的读后感啥的，结果她删了emmmm……</p><h1 id="故事简介"><a href="#故事简介" class="headerlink" title="故事简介"></a>故事简介</h1><p>　　贝律心未婚先孕，急需一个丈夫来避免身败名裂，而身在贫困村的路家爹妈呢，又急需要搭上贝家来改变他们穷困的命运──只有路小凡到了最後才发现自己的馅饼原来并非免费。</p><h1 id="吐槽"><a href="#吐槽" class="headerlink" title="吐槽"></a>吐槽</h1><p>其实这个故事比起两位男主的情感更吸引我的情感是，这个故事相比起遍地的总裁灰姑娘文把两个阶级的不平等很好地刻画出来了……</p><p>比起往常那些贬贵族阶层如何如何虚伪，夸底层贫苦人民如何如何真诚，这文非常淡定地不如把大家的面具都撕开压压惊：）</p><p>刚开始到农村的大小姐贝律心看到农村这般破旧景象，不是这样挑剔就是那样挑剔，而大少爷贝律清非常有修养地在一旁吃瓜（x）</p><p>顺带一提，路家起名字都很有意思，因为路爸很喜欢《平凡的世界》，所以生出来的孩子分别叫：小平、小凡、小的、小世（因为并没有生最后一个孩子，就很逼死强迫症233）</p><p>这一段很有意思，路小平想要和贝律清攀熟，结果小平自讨没趣233</p><blockquote><p>　　“城乡差距还是巨大的啊。”路小平故作老成补充了一句。<br>　　“总归会有一点。”贝律清面带微笑，直视著你的双眼，平和的语调，但高挑的身材站在那儿，居高临下地看著你，好像在问：请问你还有什麽需要我回答的吗？</p></blockquote><p>从本作中可以看出，两个阶级最大的差别在于教育，而教育最大的差别归根到底还是在于财富。像贝律清这种毕业于名校，身边都是一大堆聪明且家世显赫之人，而农村家庭光是供路小平一个上大学都几乎把这个贫困的家庭给掏空了……<br>而且这种教育和环境差别带来的视野，在文中随处可见。特别是农村那些狭窄的视野</p><p>有村民的：</p><blockquote><p>　　“就是，排场再大有什麽用，将来总是要过日子的。别看我们家小凤没这媳妇洋气，可是要属能踏踏实实过日子，这京城里的媳妇都不如我家小凤的一个角，所以说他们家大的路小平，一个大学生，怎麽追著我家小凤，不去追那大官家的女儿呢，人家书读得多，有见识！”<br>　　村民们立即对小凤妈道：“可不是，这媳妇又不是摆来看的，要会持家做事，你们家小凤一看就是个能来事的！书读得多，这道理啊就是明白一些！”<br>　　众口一辞，都似路家攀上这个亲事，没有跟村子里的女孩儿结亲，那是真是吃了一桩大亏，而且话又说回来路小凡──这孩子村子里的姑娘那还许都瞧不大上的。<br>　　村民们习惯将自己可望而不可及的东西踩脚底下，路小凡就在他们一连串的七嘴八舌当中，将京里来的大官家的独女贝律心迎进了门。</p></blockquote><p>也有小平和小的的：</p><blockquote><p>　　路小平悠悠的叹了一口气，道：“我总算看出来了，以前都当老二不聪明，人家精明著呢，你看他多会拍马屁，我说呢贝家怎麽放著我这个大学生不要！”<br>　　路小的插嘴道：“就是，我让他去向贝大哥要个CD，他还说什麽不要把人家的东西弄坏了，结果人家贝大哥明明就答应了。他是知道自己要改姓贝了，所以不肯把自己的东西送给我！”</p></blockquote><p>还有路妈的小心思：</p><blockquote><p>　　谁也没想到路妈的心中藏著这麽深的丘壑，路小平光想著这桩亲事能成就自己，但路妈已经把自己全家送上了这桩亲事的顺风车上。</p></blockquote><p>当我看到这里心情简直是有点毛骨悚然了，对一个人爬出贫苦的困境，无论是外人还是家人，都用恶毒的语言把它踩在脚下，而路爸路妈则完全是把小凡当成了全家的摇钱树（事实上路家很多麻烦都是小凡拜托贝律清给解决的）</p><p>当然并不是所有一切都这么绝望的，虽然路妈对这门亲事心照不宣，但对自己的孩子还是很好的，给了当时500多元的巨款给路小凡让他保重自己。</p><p>还有后期路家因为被贝律心坑死欠了一屁股债（这个坑法因为涉及金融方面，本金融小白愣是没看懂= =），然后贝律清用十万块把路小凡买回来了，贝氏兄妹的母亲为了拆散路小凡和贝律清的恋情，特意用更多的钱让路家把路小凡买回去，结果：</p><blockquote><p>　　路妈还说虽然他们是穷人，卖儿卖女那是没有法子，但做人的基本信义还是要有的，既然儿子已经卖给贝律清了，那就要说话算数。</p></blockquote><p>我：……可以这很守信用。<br>然后贝妈就因此给路家制造了各种麻烦还闹上法庭了，结局以强硬的沈吴碧氏终於被连命都可以舍弃更强硬的路妈给逼退告终……这其中有一段文字特别触动我：</p><blockquote><p>   农村人常常把拚命做为依仗，因为他们的命是如此廉价，世上有太多的东西都可以盖过它，一点点的地，一点点的钱，一点点的生存空间，在他们眼里他们的命不是用来享受的，而是用来作无休止的抗争。</p></blockquote><p>通篇下来，这段的确是对文中农村人最好的概括了，就像虫子一样，为了生存的确什么都可以做出来，但虫子也是有力量去反击的。</p><p>包括最后路小凡作为弱受对贝律清的反击也是，别看不起虫子，虫子的智慧也是很强大的。<br>（附：这个反击又是涉及金融领域的，不明觉厉，感觉现在看文都在遭受没文化的暴击/捂脸）</p><hr><h1 id="两位男主的感情吐槽："><a href="#两位男主的感情吐槽：" class="headerlink" title="两位男主的感情吐槽："></a>两位男主的感情吐槽：</h1><p>虽然这篇文章以番外视角开篇，但是看到正文开端就是：</p><blockquote><p>当然，路小凡现在并不认为贝律清跟自己睡过觉，贝家大少对自己便有什麽了不得的感情，他牢牢记得贝律清讲过的自己只不过是让他觉得新鲜，现在不想睡他了，大约是觉得不新鲜了吧。</p></blockquote><p>我：？？？<br>大哥你们什么时候搞在一起的，完全没办法想象。虽然之前看推文就已经知道他俩是一对的了，但我看到这里还是一副？？？</p><p>说实话作为文中有上帝视角的人类（x),贝律清为路小凡默默做的事情特别多，但他就是死于话少，高级闷骚，因为他高贵的自尊心不允许他这么做：）<br>糖的解析我就不写了……因为真的特别多……</p><p>后面作者也有解释诸如【为什么贝律清这样的男人会看上路小凡这么平凡的人呢】的疑问，其中有一段文字特别触动我：<b>我们总是问自己够不够优秀，学历够不够高，见识够不够广，却很少问自己够不够温暖</b><br>这段话真的给我挺深的反思的，进了大学以来，因为各种原因，我总是鞭策自己学习，成为一个优秀的人，却很少从自己的性格去改善自己。在进了大学以来，（很多原因）我一直认为我在这渺渺众生只是一个微小的虫子（虽然现在也不例外）。说到底，世上有如此无穷无尽的知识，与其一味沉浸在知识的海洋，还不如停下脚步思考一下如何用知识来修养自己XD</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script src=&quot;\assets\js\APlayer.min.js&quot;&gt; &lt;/script&gt;&lt;p&gt;之前看到这篇文，是看到小紫扫文推荐的，本来写的时候想引用一下她写的读后感啥的，结果她删了emmmm……&lt;/p&gt;
&lt;h1 id=&quot;故事简介&quot;&gt;&lt;a href=&quot;#故事简介&quot; c
      
    
    </summary>
    
      <category term="书评" scheme="https://toavancer.github.io/categories/%E4%B9%A6%E8%AF%84/"/>
    
    
      <category term="bl" scheme="https://toavancer.github.io/tags/bl/"/>
    
      <category term="书评" scheme="https://toavancer.github.io/tags/%E4%B9%A6%E8%AF%84/"/>
    
  </entry>
  
  <entry>
    <title>叙事曲2</title>
    <link href="https://toavancer.github.io/2018/04/30/%E5%8F%99%E4%BA%8B%E6%9B%B22/"/>
    <id>https://toavancer.github.io/2018/04/30/叙事曲2/</id>
    <published>2018-04-30T13:16:12.000Z</published>
    <updated>2018-05-04T14:37:32.854Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><p>终于抽空摸鱼一下写一下《叙事曲2》的玩后感了=。=</p><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>早年我玩过《叙事曲1》，但是给我的印象不深，原因有很多，我目前能想到的原因1是1代男主南望给我的感觉就像是现在大学男生那样，平凡得经典= =我甚至记不起他有什么让我深刻的点= =1代有个卖点是融入了物理学的一些知识，记得有讲薛定谔的猫，也有杨惟文讲得物理学，很可惜后者我已经不太记得还回去了，而且我那个iphone系统不支持玩叙事曲1让我有点残念没办法重温。<br>总之叙事曲1给我的感觉是比较平淡，程可比较漂亮引起了我想攻略的欲望这是真的233，不过大K和小米的破事我玩完了叙事曲2明美篇HE也没有get到这两玩意发生了啥，可能其他线其他结局会有相关解释吧。</p><h1 id="进入正题"><a href="#进入正题" class="headerlink" title="进入正题"></a>进入正题</h1><h2 id="相对论"><a href="#相对论" class="headerlink" title="相对论"></a>相对论</h2><p>其实本来我不是特别想买叙事曲2的，1是价格对我来说有点偏贵：18软妹币，2是两个女主都没有让我有攻略的欲望。<br>但最终我还是买了，理由很简单，因为它涉及了主角方指出了爱因斯坦相对论有错误的地方。作为一个物理学渣，表示对此很有兴趣并氪了金233.在物理课我们得知，当物体以光速前行，物体长度延其运动方向会缩短。但根据男主牛批的编程技术模拟出来的结果，圆球体还是圆球体,而根据《论动体的电动力学》高速运动的球体会延起运动方向的轴缩短成为一个椭圆。然后氪金提示就出现了，<b>我当然是选择买买买啦！</b></p><h2 id="明美与谈笑的关系"><a href="#明美与谈笑的关系" class="headerlink" title="明美与谈笑的关系"></a>明美与谈笑的关系</h2><p>谈笑作为1代出现过的人物，我对他的印象也是非常深刻的233特别那句[谈笑间学分灰飞烟灭]233</p><p>回到正题=。=在叙事曲2中，因为发生了某次事故，谈明美和谈笑彼此认为对方的时间静止了，在谈笑眼里谈明美还是那个永远跟在身后14岁的小女孩，而在谈明美眼里他穿着同样的衣服，说着同样的话，教着同样的课。其实这种关系状态在现实中挺常见的，我还在想主角怎么开解谈明美去主动了解谈笑呢（而且还是在不了那次事故的时候）结果主角直接引用了相对论来点开他们两个人的关系，真的在某种程度算是角度清奇让人不得不服233.<br><img src="https://toavancer-1256051997.cos.ap-guangzhou.myqcloud.com/%E8%B5%B0%E7%9A%84%E5%A4%AA%E5%BF%AB%E7%9A%84%E5%85%84%E5%A6%B9.jpg" alt="走得太快的兄妹.jpg"></p><h2 id="谈明美的枷锁"><a href="#谈明美的枷锁" class="headerlink" title="谈明美的枷锁"></a>谈明美的枷锁</h2><p>其实我对谈明美的情感是那种大佬喝冰阔落233完全没有那种攻略的感觉233结果在三年坡上突然和主角进展神速把我懵住了233.<br>真的让我觉得我开始走进谈明美的内心是，谈明美对大K说的那段家访经历，就是说老师对家长夸这个孩子带领大家不会迷路同学被密封蛰了能及时拿药家长谦虚说哪里哪里她是班长是她应该的（实际上是明美提前做好准备），其实这种老师夸奖家长谦虚我觉得挺常见的。<br>但刚好谈明美她听到了，觉得这种老师夸赞家长谦虚，搞得像比赛似的，只是觉得如果做好了，大家都会很高兴的。从来没有想过，去做什么可靠的人。<br>大K反而说这样不就成了能够被依靠的人，有一根看不见的线和联结着你和对方。<br>结果明美一句：“如果我不按照线的意志行动呢？”<br>场面一度十分尴尬。<br><b>然后明美继续说：“我只觉得……”她停顿了一下，“被什么东西缠住了。无法行动，甚至无法呼吸。这个世界所有鲜明的东西，瞬间远去了。只剩下一片白色。白色的天空……白色的墙壁……白色的地面……天地间充满了白色的静默。”家长和老师的谈话渐渐远去了，时间停滞了一切失去颜色，凝结成无处不在的黑白。</b><br>发现了自己一直是背负着他人的期望努力前行，辞去了班长的职务，才发现，自己并不喜欢做这样的事情。</p><p>明美的这段自白或许就是目前千千万万做傀儡的人，说不出的悲哀与苦吧。而我正是因为有过这种被什么东西缠住的经历，才会对明美的这段话特别感触吧，那种无法逃离的感觉。</p><h2 id="刁难"><a href="#刁难" class="headerlink" title="刁难"></a>刁难</h2><p>其实我在看主角搞那些开题报告的时候，特别不爽的是那些教授的刁难。观众们在开题报告看到谈明美很年轻，在底下吐槽谈明美作为开题报告人会不会太年轻了。结果谈明美一句：</p><p><font size="3"> <b>“在诸位面前，我还很年轻；但是——”，她话锋一转，“在宇宙面前，我们一样年轻。”</b></font><br>就给怼回去了。<br><img src="https://toavancer-1256051997.cos.ap-guangzhou.myqcloud.com/%E5%9C%A8%E5%AE%87%E5%AE%99%E9%9D%A2%E5%89%8D%E6%88%91%E4%BB%AC%E4%B8%80%E6%A0%B7%E5%B9%B4%E8%BD%BB.jpg" alt="在宇宙面前我们一样年轻"><br>这一句话让我感受到了<b>那种在浩瀚的宇宙面前人类的渺小与短暂，以及人类对未知宇宙探索的欲望。</b></p><p>然后当主角在开题报告指出和爱因斯坦不符的地方，就一帮人跳脚，然后还挖苦诸葛师兄，牛批牛批，这种专门偏偏针对个人而不是项目的质疑的操作，我还可以说啥：）</p><h2 id="光之眼"><a href="#光之眼" class="headerlink" title="光之眼"></a>光之眼</h2><p><img src="https://toavancer-1256051997.cos.ap-guangzhou.myqcloud.com/%E5%85%89%E4%B9%8B%E7%9C%BC.jpg" alt="光之眼.jpg"></p><h2 id="待续……"><a href="#待续……" class="headerlink" title="待续……"></a>待续……</h2>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script src=&quot;\assets\js\APlayer.min.js&quot;&gt; &lt;/script&gt;&lt;p&gt;终于抽空摸鱼一下写一下《叙事曲2》的玩后感了=。=&lt;/p&gt;
&lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;
      
    
    </summary>
    
      <category term="游戏" scheme="https://toavancer.github.io/categories/%E6%B8%B8%E6%88%8F/"/>
    
    
      <category term="galgame" scheme="https://toavancer.github.io/tags/galgame/"/>
    
  </entry>
  
  <entry>
    <title>摸单片机学习历程</title>
    <link href="https://toavancer.github.io/2018/03/03/%E6%91%B8%E5%8D%95%E7%89%87%E6%9C%BA%E5%AD%A6%E4%B9%A0%E5%8E%86%E7%A8%8B/"/>
    <id>https://toavancer.github.io/2018/03/03/摸单片机学习历程/</id>
    <published>2018-03-03T12:53:29.000Z</published>
    <updated>2018-03-22T14:10:21.012Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><p>2018-3-3<br><a href="https://toavancer-1256051997.cos.ap-guangzhou.myqcloud.com/%E6%89%8B%E6%8A%8A%E6%89%8B%E6%95%99%E4%BD%A0%E5%AD%A651%E5%8D%95%E7%89%87%E6%9C%BA-C%E8%AF%AD%E8%A8%80%E7%89%88.pdf" target="_blank" rel="noopener">手把手教你学51单片机-C语言版.pdf</a></p><p>本来板子到手之前我是看这个的= =真的讲得很详细呢……无论是硬件还是软件，相应的原理也讲得很清晰。但最可惜的是，似乎和我的板子型号对不上还是怎么的，反正如果我把程序写成这样：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#include "reg52.h"</span></span><br><span class="line"></span><br><span class="line">sbit led=P0^0;</span><br><span class="line"></span><br><span class="line">void main()</span><br><span class="line">&#123;</span><br><span class="line">  led=0;</span><br><span class="line"><span class="keyword">while</span>(1)</span><br><span class="line">&#123;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>真的是欢声笑语中打出GG，连之前试用成功的LED灯闪烁hex文件都GG，没办法烧录到单片机上，吓得我以为把单片机给弄坏了呵呵= =；<br>结果在单片机开机状态再用试用文件那盏灯居然闪烁了感动天地QAQ</p><p>哎感觉原理可以参考这本书，但是程序代码啥的就别抄了（躺<br>不过我真的很想吐槽教学视频没办法加1.5或者2倍速啊……讲的语速有点（躺</p><hr><p>2018-03-04<br>今天摸了流水灯数码管显示<br>单片机真的很任性好吗：）<br>下午摸数码管发现数码管显示数字有毛病- -只能亮：147cf这几个字符……其他就算用它给的标准程序也不管用真的呵呵：）<br>尼玛当我绝望的时候准备拔单片机和电脑之间的连线准备下线的时候，手贱按了一下（可能是电容有电，闪了一下），我心怂了一下：）结果连回去居然显示正常了：）</p><p>补充：问了技术人员，它3月5号早上给我回信了= =说<a href="https://toavancer-1256051997.cos.ap-guangzhou.myqcloud.com/%E5%8D%95%E7%89%87%E6%9C%BA%E6%95%B0%E7%A0%81%E7%AE%A1%E9%97%AE%E9%A2%98.jpg" target="_blank" rel="noopener">数码管</a>除了做点阵和595有关的实验的时候才插到右侧两个针脚上，其它时候都插到左侧VCC JOE上<br>所以做数码管要把他拔插到左侧。<font color="02C874">完全听不懂= =</font></p><hr><p>2018-03-05<br>数码管的动态显示：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">P0=smgduan[i];</span><br><span class="line">delay(100);</span><br><span class="line">P0=0x00;</span><br></pre></td></tr></table></figure><p>根据delay输入的数值不同，数值越小，01234657就会同时显示（其实是跑太快了- -人眼就觉得这几个数字是静止的），数值大的，01234567就会分别依次显示= =</p><font color="FF0000">P0=0x00;</font><font color="02C874">消隐。目的：为了防止跑太快有重影产生不好看</font><hr><p>2018-03-06<br>周二一整天没课= =然后摸了一整天的单片机……周五就要开会了= =完全没做PHP的寒假作业的我（表面稳如老狗心里慌得一批）</p><p>今天上午摸了独立按键和矩阵按键……起来得有点早身体还没适应，一边打哈欠一边看= =基本原理晚上也看了一下……</p><p>下午看点阵原理弄了很久= =还没弄明白才惨（。<br>晚上因为一些破事扰乱心情暂时到此= =</p><hr><p>2018-03-07<br>满课的一天，晚上研究电分。</p><hr><p>2018-03-08<br>摸了个单片机LED灯阵</p><hr><p>2018-03-09<br>下午易控开会= =开得好长的会议= =硬件dalao的对话甚至听不懂：）<br>开完会回来研究 avancer.xyz= =以为买个域名就好了，结果还要再买服务器备案啥的真的好麻烦：）<br>晚上看了一丢丢串口通信<br>嗯甚至加了智能赛车（校内）比赛= =真的好烦没找到队友（躺）</p><hr><p>2018-03-10<br>看串口通信的一天……<br>我感觉串口通信的难点更多在于搞懂原理，搞懂配置吧= =<br>感觉和中断有点相似，把那些端口配置好才能运行= =</p><hr><p>2018-03-11<br>看EEPROM(IIC总线)的一天= =忍住不睡：）<br>晚上去了参加SRIB宣讲会<br>因为SRIB招新题目我真的看着都觉得蒙蔽= =刚好有做车车的项目，刚好之前报的比赛也是做车车，就打算做同一个项目来应付两边（x</p><hr><p>2018-03-12<br>看EEPROM(IIC总线)的上午</p><hr><p>2018-03-13<br>上完物理课回来把EEPROM(IIC总线)的代码勉强看懂了</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">unsigned char I2cReadByte()</span><br><span class="line">&#123;</span><br><span class="line">unsigned char a=0,dat=0;</span><br><span class="line">SDA=1;</span><br><span class="line">Delay10us();</span><br><span class="line"><span class="keyword">for</span>(a=0;a&lt;8;a++)</span><br><span class="line">&#123;</span><br><span class="line">SCL=1; //令数据保持稳定</span><br><span class="line">Delay10us();</span><br><span class="line">dat&lt;&lt;=1;//左移1位 //先移位再判断数据   dat=0000 → 0000 → 0010</span><br><span class="line">dat|=SDA;//因为SDA=1;dat=dat|SDA; dat是0001 → 0011 //这一步应该是把SDA存储的数据给dat</span><br><span class="line">Delay10us();</span><br><span class="line">SCL=0;</span><br><span class="line">Delay10us();</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">return</span> dat;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>以及<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">unsigned char I2CSendByte(unsigned char dat)</span><br><span class="line">&#123;</span><br><span class="line">   unsigned char a=0,b;</span><br><span class="line">   <span class="keyword">for</span>(a=0;a&lt;8;a++)</span><br><span class="line">   &#123;</span><br><span class="line">   SDA=dat&gt;&gt;7; //保留了最高位</span><br><span class="line">   dat=dat&lt;&lt;1; //把最高位扔了</span><br><span class="line">   Delay10us();//必须大于4.7us</span><br><span class="line">   SCL=1;//令数据保持稳定</span><br><span class="line">   Delay10us();</span><br><span class="line">   SCL=0; //令下次循环可以变化</span><br><span class="line">   Delay10us();</span><br><span class="line">   &#125;</span><br><span class="line">   SDA=1;     //应答初始化——非应答</span><br><span class="line">   Delay10us();</span><br><span class="line">   SCL=1;</span><br><span class="line">   <span class="keyword">while</span>(SDA) //应答为0表示应答，跳出循环</span><br><span class="line">   &#123;</span><br><span class="line">   b++;</span><br><span class="line">   <span class="keyword">if</span>(b&gt;200)</span><br><span class="line">   &#123;</span><br><span class="line">   SCL=0;</span><br><span class="line">   Delay10us();</span><br><span class="line">   <span class="built_in">return</span> 0;</span><br><span class="line">   &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   SCL=0;</span><br><span class="line">   Delay10us();</span><br><span class="line">   <span class="built_in">return</span> 1;//表示收到</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>神奇的移位操作<br>可能我最不能理解是SDA数据线的两用（？）吧，既可以当应答也可以存储数据……Emmmm或许我应该更正一下我的想法，应该是SDA在for循环里面一位一位地把数据传送过去了，所以传数据的时候要确保SLA=1（保证数据不变动）以及相应的时间延迟内给它传输数据……</p><p>不过EEPROM(IIC总线)总体代码实施给我的感觉就是……Emmmm……和PHP的留言板功能很类似= =只不过PHP是用数据库来保存信息= =而单片机是直接给外存啥的断掉不丢失，两者都有存储以及读出的功能。</p><p>然后一整个下午看的温度传感器那块= =晚上还有点代码没看完</p><hr><p>2018-03-14<br>中午看了一点代码<br>晚上下载AD文件……10个G的文件，85kb/s的速度真令人汗颜= =！</p><hr><p>2018-03-15<br>红外通信感觉视频讲得比较简单，感觉周五要实践一波红外通信的应用，毕竟上小车的时候也会用到的说。不过我甚至看到嵌套中断，绝了绝了……<br>我现在对中断的定义就是，配置好数据，和interupt和端口号，其他随便你弄= =</p><h2 id="但数据怎么配-我也只能直接扒他给我的代码啊（苦笑）"><a href="#但数据怎么配-我也只能直接扒他给我的代码啊（苦笑）" class="headerlink" title="但数据怎么配=_=我也只能直接扒他给我的代码啊（苦笑）"></a>但数据怎么配=_=我也只能直接扒他给我的代码啊（苦笑）</h2><p>2018-03-16<br>摸了一个下午自己写的红外通信，一边看一边自己写= =<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">#include "reg52.h"</span></span><br><span class="line"></span><br><span class="line">sbit IRIN=P3^2;</span><br><span class="line">sbit LSA=P2^2;</span><br><span class="line">sbit LSB=P2^3;</span><br><span class="line">sbit LSC=P2^4;</span><br><span class="line"></span><br><span class="line">typedef unsigned int u16;  //对数据类型进行声明定义</span><br><span class="line">typedef unsigned char u8;</span><br><span class="line"></span><br><span class="line">u8 Time;</span><br><span class="line"> u8 code smgduan[17]=&#123;</span><br><span class="line">0x3f,0x06,0x5b,0x4f,0x66,0x6d,0x7d,0x07,</span><br><span class="line">0x7f,0x6f,0x77,0x7c,0x39,0x5e,0x79,0x71,0X76&#125;;</span><br><span class="line"> u16 DisplayData[8];</span><br><span class="line"> u16 datas[8];</span><br><span class="line">void Irint()</span><br><span class="line">&#123;</span><br><span class="line">  </span><br><span class="line">  IT0=1;</span><br><span class="line">  EX0=1;</span><br><span class="line">  EA=1;</span><br><span class="line">  IRIN=1;//初始化端口</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void delay100us(u8 b)   //误差 0us</span><br><span class="line">&#123;</span><br><span class="line">    unsigned char a;</span><br><span class="line">    <span class="keyword">for</span>(;b&gt;0;b--)</span><br><span class="line">        <span class="keyword">for</span>(a=47;a&gt;0;a--);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void ReadIr() interrupt 0</span><br><span class="line">&#123;</span><br><span class="line">u16 err=5;</span><br><span class="line">u8 i, k;</span><br><span class="line">Time=0;</span><br><span class="line"></span><br><span class="line">delay100us(70);//确认7ms以后是否还为低电平</span><br><span class="line"></span><br><span class="line">   <span class="keyword">if</span>(IRIN==0)</span><br><span class="line">   &#123;</span><br><span class="line">   delay100us(20);</span><br><span class="line"></span><br><span class="line">   <span class="keyword">while</span>(IRIN==1&amp;&amp;err&gt;0) //等待4.5ms高电平</span><br><span class="line">   &#123;  </span><br><span class="line">    delay100us(10);</span><br><span class="line">     err--;</span><br><span class="line">   &#125;</span><br><span class="line">   </span><br><span class="line">   <span class="keyword">for</span>(k=4;k&gt;0;k--)</span><br><span class="line">   &#123;</span><br><span class="line">   <span class="keyword">for</span>(i=8;i&gt;0;i--)</span><br><span class="line">   &#123;</span><br><span class="line">   err=6;</span><br><span class="line">  <span class="keyword">while</span>(IRIN==0&amp;&amp;err&gt;=0)</span><br><span class="line">  &#123;</span><br><span class="line">  delay100us(1);</span><br><span class="line">  err--;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span>(err&lt;0)</span><br><span class="line">  &#123;</span><br><span class="line">  <span class="built_in">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">   err=1;</span><br><span class="line">  <span class="keyword">while</span>(IRIN==1)</span><br><span class="line">  &#123;</span><br><span class="line">  delay100us(1); //0.565-- 1.65</span><br><span class="line">  err++;</span><br><span class="line">  <span class="keyword">if</span>(err&gt;=30)</span><br><span class="line">  &#123;</span><br><span class="line">  <span class="built_in">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  datas[k]&gt;&gt;=1;</span><br><span class="line">  <span class="keyword">if</span>(err&gt;8)</span><br><span class="line">  &#123;</span><br><span class="line"> datas[k]|=0x80;</span><br><span class="line">  &#125;</span><br><span class="line">  Time=0;</span><br><span class="line">   &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">if</span>(datas[2]!=~datas[3])</span><br><span class="line">   &#123;</span><br><span class="line">   <span class="built_in">return</span>;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"> void DigDisplay()</span><br><span class="line">&#123;</span><br><span class="line">u8 i;</span><br><span class="line"><span class="keyword">for</span>(i=0;i&lt;3;i++)</span><br><span class="line">&#123;</span><br><span class="line">switch(i) //位选，选择点亮的数码管，</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">case</span>(0):</span><br><span class="line">LSA=0;LSB=0;LSC=0; <span class="built_in">break</span>;//显示第0位</span><br><span class="line"><span class="keyword">case</span>(1):</span><br><span class="line">LSA=1;LSB=0;LSC=0; <span class="built_in">break</span>;//显示第1位</span><br><span class="line"><span class="keyword">case</span>(2):</span><br><span class="line">LSA=0;LSB=1;LSC=0; <span class="built_in">break</span>;//显示第2位</span><br><span class="line">&#125;</span><br><span class="line">P0=DisplayData[2-i];//发送数据</span><br><span class="line">delay100us(10); //间隔一段时间扫描</span><br><span class="line">P0=0x00;//消隐</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">  void main()</span><br><span class="line"> &#123;</span><br><span class="line"> Irint();</span><br><span class="line"><span class="keyword">while</span>(1)</span><br><span class="line">&#123;</span><br><span class="line">DisplayData[0] = smgduan[datas[2]/16];</span><br><span class="line">DisplayData[1] = smgduan[datas[2]%16];</span><br><span class="line">DisplayData[2] = smgduan[16];</span><br><span class="line">DigDisplay();</span><br><span class="line">&#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure></p><p>结果一运行，目测是对红外线是有反应，但问题在于闪了一下又变回00H了呵呵<br>然后我又对着答案排查了一下<br>应该是那个7ms是给它的缓冲时间（？？？）<br>从if(INRN==0)才正式开始计算9ms的缓冲时间。<br>不过我觉得很迷的可能还有一点，就是<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">DisplayData[0] = smgduan[datas[2]/16];</span><br><span class="line">DisplayData[1] = smgduan[datas[2]%16];</span><br></pre></td></tr></table></figure></p><p>它的意思是datas数组里面是以二进制算的吧……？不然以10进制来除16是得不到相应的数据的。<br>顺便记录一下我单片机各个按钮的按键，感觉可以遥控开关了=w=<br>红色开关：45H<br>Mode:46H<br>静音按钮：47H<br>下一个（蓝色按钮）：44H<br>上一个（灰色按钮）：40H<br>下一个（灰色按钮）：43H<br>EQ：07H<br>VOL-：15H<br>VOL+：09H<br>0:16H<br>RPT：19H<br>U/SD:0DH<br>1:0CH<br>2:18H<br>3:5EH<br>4:08H<br>5:1CH<br>6:5AH<br>7:42H<br>8:52H</p><h2 id="9-4AH"><a href="#9-4AH" class="headerlink" title="9:4AH"></a>9:4AH</h2><p>因为PPT格式在移动硬盘，而我又没带移动硬盘= =所以就先把PPT大致内容写在这里。<br>周五周六晚上大致内容都是在搞中断嵌套。<br>（事实证明，硬盘也没有模板）<br>因为我周五摸的是红外通信，我一开始打算做的实验是，把音乐播放器和红外通信结合一起。<br>第一次实验算是成功了，根据按钮来播放想放的音乐。<br>但问题是我第二次（异想天开的）实验，真心很难做= =<br>大概目的就是想通过遥控来切换音乐，因为音乐正在播放，而我又没办法让它播着播着自己切歌= =<br>后来研究发现，它这个函数写得有点高深而且有点难改，而且在.c文件里面的irint()在那个.h文件里用不了，不管怎么改都会报错<br>就想着先放一放吧= =因为P3^2口接的是中断口0，所以如果我想练一下中断嵌套只能拿计时器啥的下手了= =（因为计时器中断口是1和3，优先级比0低）<br>实验三——通过遥控来设定初始秒数<br>其实理论上来讲应该还有其它功能的，什么清0之类的= =但我懒，反正我只是为了做个中断嵌套的程序，我就弄简单一点算了，按一下1，然后倒置时间为5000s。<br>目前我有两个代码，都是之前写好的，要做的工作就是把它们融合在一起就好了。<br>这是定时器0的代码<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#include &lt;reg52.h&gt;  </span></span><br><span class="line">sbit ADDR0 = P2^2; sbit ADDR1 = P2^3; sbit ADDR2 = P2^4;</span><br><span class="line"> sbit ADDR3 = P2^5; sbit ENLED = P2^6;  </span><br><span class="line"> sbit LED=P2^0;</span><br><span class="line">unsigned char code LedChar[] =</span><br><span class="line"> &#123;  </span><br><span class="line"> //数码管显示字符转换表    </span><br><span class="line">  0x3f  , 0x06 , 0x5b , 0x4f , 0x66 , 0x6d,</span><br><span class="line">0x7d , 0x07 , 0x7f  , 0x6f , 0x77 , 0x7c , </span><br><span class="line">0x39 , 0x5e , 0x79 , 0x71 , 0x00 &#125;;</span><br><span class="line">   unsigned char LedBuff[6] = &#123;</span><br><span class="line">   //数码管显示缓冲区，初值 0xFF 确保启动时都不亮    </span><br><span class="line"> 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 &#125;;  </span><br><span class="line"></span><br><span class="line">unsigned char i = 0;   //动态扫描的索引   </span><br><span class="line">   unsigned int  cnt = 0;  //记录 T0 中断次数</span><br><span class="line"></span><br><span class="line">void <span class="function"><span class="title">main</span></span>() &#123; </span><br><span class="line">  </span><br><span class="line">unsigned long sec = 1000000; //记录经过的秒数</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">EA=1; //使能总中断   </span><br><span class="line">ENLED = 0;    //使能 U3，选择控制数码管  </span><br><span class="line"> ADDR3 = 1;    //因为需要动态改变 ADDR0-2 的值，所以不需要再初始化了   </span><br><span class="line">  TMOD = 0x01;  //设置 T0 为模式 1   </span><br><span class="line">TH0  = 0xFC;  //为 T0 赋初值 0xFC67，定时 1ms  </span><br><span class="line">TL0  = 0x67;  </span><br><span class="line">ET0=1;  </span><br><span class="line"> TR0  = 1;     //启动 T0   </span><br><span class="line">  <span class="keyword">while</span> (1) </span><br><span class="line">    &#123;      </span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (cnt &gt;= 1000)</span><br><span class="line">  //判断 T0 溢出是否达到 1000 次        </span><br><span class="line">     &#123;  </span><br><span class="line">     cnt = 0;   //达到 1000 次后计数值清零</span><br><span class="line">sec--;         //秒计数自加 1 </span><br><span class="line">      //以下代码将 sec 按十进制位从低到高依次提取并转为数码管显示字符  </span><br><span class="line">LedBuff[0] = LedChar[sec%10]; </span><br><span class="line">LedBuff[1] =LedChar[sec/10%10];</span><br><span class="line">LedBuff[2] =LedChar[sec/100%10];</span><br><span class="line">LedBuff[3] = LedChar[sec/1000%10];</span><br><span class="line">LedBuff[4] = LedChar[sec/10000%10];</span><br><span class="line">LedBuff[5] = LedChar[sec/100000%10];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">   &#125;             //以下代码完成数码管动态扫描刷新</span><br><span class="line">            &#125;      </span><br><span class="line"></span><br><span class="line">void InterruptTimer0() interrupt 1</span><br><span class="line">&#123;</span><br><span class="line">TH0= 0xFC;</span><br><span class="line">TL0=0X67;</span><br><span class="line">cnt++;</span><br><span class="line">P0=0x00; //消隐</span><br><span class="line">  switch (i)  &#123; </span><br><span class="line"><span class="keyword">case</span> 0: ADDR2=0; ADDR1=0; ADDR0=0; i++; P0=LedBuff[0]; <span class="built_in">break</span>;  </span><br><span class="line"> <span class="keyword">case</span> 1: ADDR2=0; ADDR1=0; ADDR0=1; i++; P0=LedBuff[1]; <span class="built_in">break</span>;</span><br><span class="line">  <span class="keyword">case</span> 2: ADDR2=0; ADDR1=1; ADDR0=0; i++; P0=LedBuff[2]; <span class="built_in">break</span>;</span><br><span class="line">  <span class="keyword">case</span> 3: ADDR2=0; ADDR1=1; ADDR0=1; i++; P0=LedBuff[3]; <span class="built_in">break</span>; </span><br><span class="line">  <span class="keyword">case</span> 4: ADDR2=1; ADDR1=0; ADDR0=0; i++; P0=LedBuff[4]; <span class="built_in">break</span>;</span><br><span class="line">   <span class="keyword">case</span> 5: ADDR2=1; ADDR1=0; ADDR0=1; i=0; P0=LedBuff[5]; <span class="built_in">break</span>; </span><br><span class="line">    default: <span class="built_in">break</span>;             </span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>这是红外通信检测数据码的代码<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">#include "reg52.h"</span></span><br><span class="line"></span><br><span class="line">sbit IRIN=P3^2;</span><br><span class="line">sbit LSA=P2^2;</span><br><span class="line">sbit LSB=P2^3;</span><br><span class="line">sbit LSC=P2^4;</span><br><span class="line"></span><br><span class="line">typedef unsigned int u16;  //对数据类型进行声明定义</span><br><span class="line">typedef unsigned char u8;</span><br><span class="line"></span><br><span class="line">u8 Time;</span><br><span class="line"> u8 code smgduan[17]=&#123;</span><br><span class="line">0x3f,0x06,0x5b,0x4f,0x66,0x6d,0x7d,0x07,</span><br><span class="line">0x7f,0x6f,0x77,0x7c,0x39,0x5e,0x79,0x71,0X76&#125;;</span><br><span class="line"> u16 DisplayData[8];</span><br><span class="line"> u16 datas[8];</span><br><span class="line">void Irint()</span><br><span class="line">&#123;</span><br><span class="line">  </span><br><span class="line">  IT0=1;</span><br><span class="line">  EX0=1;</span><br><span class="line">  EA=1;</span><br><span class="line">  IRIN=1;//初始化端口</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void delay100us(u8 b)   //误差 0us</span><br><span class="line">&#123;</span><br><span class="line">    unsigned char a;</span><br><span class="line">    <span class="keyword">for</span>(;b&gt;0;b--)</span><br><span class="line">        <span class="keyword">for</span>(a=47;a&gt;0;a--);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void ReadIr() interrupt 0</span><br><span class="line">&#123;</span><br><span class="line">u16 err;</span><br><span class="line">u8 i, k;</span><br><span class="line">Time=0;</span><br><span class="line"></span><br><span class="line">delay100us(70);//确认7ms以后是否还为低电平</span><br><span class="line"></span><br><span class="line">   <span class="keyword">if</span>(IRIN==0)</span><br><span class="line">   &#123;</span><br><span class="line">    err=10;</span><br><span class="line">  <span class="keyword">while</span>(IRIN==0&amp;&amp;err&gt;0)//以防万一过了9ms还没有到高电平= =</span><br><span class="line">  &#123;</span><br><span class="line">  delay100us(10);</span><br><span class="line">  &#125;</span><br><span class="line">  err=5;</span><br><span class="line">   <span class="keyword">while</span>(IRIN==1&amp;&amp;err&gt;0) //等待4.5ms高电平</span><br><span class="line">   &#123;  </span><br><span class="line">    delay100us(10);</span><br><span class="line">     err--;</span><br><span class="line">   &#125;</span><br><span class="line">   </span><br><span class="line">   <span class="keyword">for</span>(k=4;k&gt;0;k--)</span><br><span class="line">   &#123;</span><br><span class="line">   <span class="keyword">for</span>(i=8;i&gt;0;i--)</span><br><span class="line">   &#123;</span><br><span class="line">   err=6;</span><br><span class="line">  <span class="keyword">while</span>(IRIN==0&amp;&amp;err&gt;=0)</span><br><span class="line">  &#123;</span><br><span class="line">  delay100us(1);</span><br><span class="line">  err--;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span>(err&lt;0)</span><br><span class="line">  &#123;</span><br><span class="line">  <span class="built_in">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">   err=1;</span><br><span class="line">  <span class="keyword">while</span>(IRIN==1)</span><br><span class="line">  &#123;</span><br><span class="line">  delay100us(1); //0.565-- 1.65</span><br><span class="line">  err++;</span><br><span class="line">  <span class="keyword">if</span>(err&gt;=30)</span><br><span class="line">  &#123;</span><br><span class="line">  <span class="built_in">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  datas[k]&gt;&gt;=1;</span><br><span class="line">  <span class="keyword">if</span>(err&gt;8)</span><br><span class="line">  &#123;</span><br><span class="line"> datas[k]|=0x80;</span><br><span class="line">  &#125;</span><br><span class="line">  Time=0;</span><br><span class="line">   &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">if</span>(datas[2]!=~datas[3])</span><br><span class="line">   &#123;</span><br><span class="line">   <span class="built_in">return</span>;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"> void DigDisplay()</span><br><span class="line">&#123;</span><br><span class="line">u8 i;</span><br><span class="line"><span class="keyword">for</span>(i=0;i&lt;3;i++)</span><br><span class="line">&#123;</span><br><span class="line">switch(i) //位选，选择点亮的数码管，</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">case</span>(0):</span><br><span class="line">LSA=0;LSB=0;LSC=0; <span class="built_in">break</span>;//显示第0位</span><br><span class="line"><span class="keyword">case</span>(1):</span><br><span class="line">LSA=1;LSB=0;LSC=0; <span class="built_in">break</span>;//显示第1位</span><br><span class="line"><span class="keyword">case</span>(2):</span><br><span class="line">LSA=0;LSB=1;LSC=0; <span class="built_in">break</span>;//显示第2位</span><br><span class="line">&#125;</span><br><span class="line">P0=DisplayData[2-i];//发送数据</span><br><span class="line">delay100us(10); //间隔一段时间扫描</span><br><span class="line">P0=0x00;//消隐</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">  void main()</span><br><span class="line"> &#123;</span><br><span class="line"> Irint();</span><br><span class="line"><span class="keyword">while</span>(1)</span><br><span class="line">&#123;</span><br><span class="line">DisplayData[0] = smgduan[datas[2]/16];</span><br><span class="line">DisplayData[1] = smgduan[datas[2]%16];</span><br><span class="line">DisplayData[2] = smgduan[16];</span><br><span class="line">DigDisplay();</span><br><span class="line">&#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure></p><p>那么两者融合的完结版是：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#include &lt;reg52.h&gt;  </span></span><br><span class="line">sbit ADDR0 = P2^2; sbit ADDR1 = P2^3; sbit ADDR2 = P2^4;</span><br><span class="line"> sbit ADDR3 = P2^5; sbit ENLED = P2^6;  </span><br><span class="line"> sbit LED=P2^0; sbit IRIN=P3^2;</span><br><span class="line"> typedef unsigned int u16;  //对数据类型进行声明定义</span><br><span class="line">typedef unsigned char u8;</span><br><span class="line">u8 Time;</span><br><span class="line">u16 datas[8];</span><br><span class="line"></span><br><span class="line">unsigned char code LedChar[] =</span><br><span class="line"> &#123;  //数码管显示字符转换表    </span><br><span class="line">  0x3f  , 0x06 , 0x5b , 0x4f , 0x66 , 0x6d,</span><br><span class="line">0x7d , 0x07 , 0x7f  , 0x6f , 0x77 , 0x7c , </span><br><span class="line">0x39 , 0x5e , 0x79 , 0x71 , 0x00 &#125;;</span><br><span class="line">   unsigned char LedBuff[6] = &#123;</span><br><span class="line">   //数码管显示缓冲区，初值 0xFF 确保启动时都不亮    </span><br><span class="line"> 0x00, 0x00, 0x00, 0x00, 0x00, 0x00 &#125;;  </span><br><span class="line"></span><br><span class="line">unsigned char i = 0;   //动态扫描的索引   </span><br><span class="line">   unsigned int  cnt = 0;  //记录 T0 中断次数</span><br><span class="line"></span><br><span class="line">void Irint()</span><br><span class="line">&#123;</span><br><span class="line">  </span><br><span class="line">  IT0=1;</span><br><span class="line">  EX0=1;</span><br><span class="line">  EA=1;</span><br><span class="line">  IRIN=1;//初始化端口</span><br><span class="line">&#125;</span><br><span class="line"> void delay100us(u8 b)   //误差 0us</span><br><span class="line">&#123;</span><br><span class="line">    unsigned char a;</span><br><span class="line">    <span class="keyword">for</span>(;b&gt;0;b--)</span><br><span class="line">        <span class="keyword">for</span>(a=47;a&gt;0;a--);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void <span class="function"><span class="title">main</span></span>() &#123; </span><br><span class="line">  </span><br><span class="line">unsigned long sec = 1000000; //记录经过的秒数</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">EA=1; //使能总中断   </span><br><span class="line">ENLED = 0;    //使能 U3，选择控制数码管  </span><br><span class="line"> ADDR3 = 1;    //因为需要动态改变 ADDR0-2 的值，所以不需要再初始化了   </span><br><span class="line">  TMOD = 0x01;  //设置 T0 为模式 1   </span><br><span class="line">TH0  = 0xFC;  //为 T0 赋初值 0xFC67，定时 1ms  </span><br><span class="line">TL0  = 0x67;  </span><br><span class="line">ET0=1;  </span><br><span class="line"> TR0  = 1;     //启动 T0  </span><br><span class="line"> Irint();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> (1) </span><br><span class="line">    &#123;      </span><br><span class="line">   </span><br><span class="line"><span class="keyword">if</span> (cnt &gt;= 1000)</span><br><span class="line">  //判断 T0 溢出是否达到 1000 次        </span><br><span class="line">     &#123;  </span><br><span class="line">   </span><br><span class="line"> <span class="keyword">if</span>((datas[2]/16==0)&amp;&amp;(datas[2]%16==12))</span><br><span class="line"> &#123;</span><br><span class="line"> </span><br><span class="line">   sec = 5000;</span><br><span class="line">   datas[2]=0;</span><br><span class="line"> &#125; </span><br><span class="line">     cnt = 0;   //达到 1000 次后计数值清零</span><br><span class="line">sec--;         //秒计数自加 1 </span><br><span class="line">      //以下代码将 sec 按十进制位从低到高依次提取并转为数码管显示字符  </span><br><span class="line">LedBuff[0] = LedChar[sec%10]; </span><br><span class="line">LedBuff[1] =LedChar[sec/10%10];</span><br><span class="line">LedBuff[2] =LedChar[sec/100%10];</span><br><span class="line">LedBuff[3] = LedChar[sec/1000%10];</span><br><span class="line">LedBuff[4] = LedChar[sec/10000%10];</span><br><span class="line">LedBuff[5] = LedChar[sec/100000%10];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">   &#125;             //以下代码完成数码管动态扫描刷新</span><br><span class="line">            &#125;      </span><br><span class="line"></span><br><span class="line">void InterruptTimer0() interrupt 1</span><br><span class="line">&#123;</span><br><span class="line">TH0= 0xFC;</span><br><span class="line">TL0=0X67;</span><br><span class="line">cnt++;</span><br><span class="line">P0=0x00; //消隐</span><br><span class="line">  switch (i)  &#123; </span><br><span class="line"><span class="keyword">case</span> 0: ADDR2=0; ADDR1=0; ADDR0=0; i++; P0=LedBuff[0]; <span class="built_in">break</span>;  </span><br><span class="line"> <span class="keyword">case</span> 1: ADDR2=0; ADDR1=0; ADDR0=1; i++; P0=LedBuff[1]; <span class="built_in">break</span>;</span><br><span class="line">  <span class="keyword">case</span> 2: ADDR2=0; ADDR1=1; ADDR0=0; i++; P0=LedBuff[2]; <span class="built_in">break</span>;</span><br><span class="line">  <span class="keyword">case</span> 3: ADDR2=0; ADDR1=1; ADDR0=1; i++; P0=LedBuff[3]; <span class="built_in">break</span>; </span><br><span class="line">  <span class="keyword">case</span> 4: ADDR2=1; ADDR1=0; ADDR0=0; i++; P0=LedBuff[4]; <span class="built_in">break</span>;</span><br><span class="line">   <span class="keyword">case</span> 5: ADDR2=1; ADDR1=0; ADDR0=1; i=0; P0=LedBuff[5]; <span class="built_in">break</span>; </span><br><span class="line">    default: <span class="built_in">break</span>;             </span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">void ReadIr() interrupt 0</span><br><span class="line">&#123;</span><br><span class="line">u16 err;</span><br><span class="line">u8 i, k;</span><br><span class="line">Time=0;</span><br><span class="line"></span><br><span class="line">delay100us(70);//确认7ms以后是否还为低电平</span><br><span class="line"></span><br><span class="line">   <span class="keyword">if</span>(IRIN==0)</span><br><span class="line">   &#123;</span><br><span class="line">    err=10;</span><br><span class="line">  <span class="keyword">while</span>(IRIN==0&amp;&amp;err&gt;0)//以防万一过了9ms还没有到高电平= =</span><br><span class="line">  &#123;</span><br><span class="line">  delay100us(10);</span><br><span class="line">  err--;</span><br><span class="line">  &#125;</span><br><span class="line">  err=5;</span><br><span class="line">   <span class="keyword">while</span>(IRIN==1&amp;&amp;err&gt;0) //等待4.5ms高电平</span><br><span class="line">   &#123;  </span><br><span class="line">    delay100us(10);</span><br><span class="line">     err--;</span><br><span class="line">   &#125;</span><br><span class="line">   </span><br><span class="line">   <span class="keyword">for</span>(k=4;k&gt;0;k--)</span><br><span class="line">   &#123;</span><br><span class="line">   <span class="keyword">for</span>(i=8;i&gt;0;i--)</span><br><span class="line">   &#123;</span><br><span class="line">   err=6;</span><br><span class="line">  <span class="keyword">while</span>(IRIN==0&amp;&amp;err&gt;=0)</span><br><span class="line">  &#123;</span><br><span class="line">  delay100us(1);</span><br><span class="line">  err--;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span>(err&lt;0)</span><br><span class="line">  &#123;</span><br><span class="line">  <span class="built_in">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">   err=1;</span><br><span class="line">  <span class="keyword">while</span>(IRIN==1)</span><br><span class="line">  &#123;</span><br><span class="line">  delay100us(1); //0.565-- 1.65</span><br><span class="line">  err++;</span><br><span class="line">  <span class="keyword">if</span>(err&gt;=30)</span><br><span class="line">  &#123;</span><br><span class="line">  <span class="built_in">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  datas[k]&gt;&gt;=1;</span><br><span class="line">  <span class="keyword">if</span>(err&gt;8)</span><br><span class="line">  &#123;</span><br><span class="line"> datas[k]|=0x80;</span><br><span class="line">  &#125;</span><br><span class="line">  Time=0;</span><br><span class="line">   &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">if</span>(datas[2]!=~datas[3])</span><br><span class="line">   &#123;</span><br><span class="line">   <span class="built_in">return</span>;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>总结一下踩过的坑：<br>感觉放中断的位置也是有点讲究的，我一开始把<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Irint();</span><br><span class="line">   </span><br><span class="line"> <span class="keyword">if</span>((datas[2]/16==0)&amp;&amp;(datas[2]%16==12))</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">  sec = 5000;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>放在了void main()函数的定义区= =<br>效果：无论按什么键它都是没反应的= =<br>后来我再看了一下，大抵原因是我对这个中断不熟悉，实际上这个倒计时中断是通过无数次进入interrupt 1这个函数来实现动态扫描，而<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">sec--;         //秒计数自减 1 </span><br><span class="line">      //以下代码将 sec 按十进制位从低到高依次提取并转为数码管显示字符  </span><br><span class="line">LedBuff[0] = LedChar[sec%10]; </span><br><span class="line">LedBuff[1] =LedChar[sec/10%10];</span><br><span class="line">LedBuff[2] =LedChar[sec/100%10];</span><br><span class="line">LedBuff[3] = LedChar[sec/1000%10];</span><br><span class="line">LedBuff[4] = LedChar[sec/10000%10];</span><br><span class="line">LedBuff[5] = LedChar[sec/100000%10];</span><br></pre></td></tr></table></figure></p><p>来更新sec的数据<br>那么就应该把<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">while</span>(1)</span><br><span class="line"> &#123;</span><br><span class="line"> <span class="keyword">if</span>((datas[2]/16==0)&amp;&amp;(datas[2]%16==12))</span><br><span class="line"> &#123;</span><br><span class="line"> </span><br><span class="line">   sec = 5000;</span><br><span class="line"> &#125; </span><br><span class="line"></span><br><span class="line"> ………………</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>放在while函数来保证它时刻刷新就好了吧= =<br>结果：它停在了4999再也没动了= =然后手残按一下2，然后它才开始动了起来。<br>我：？？？<br>后来研究了一下，发现应该是按了一次1之后，它的datas[2]的数据就没有变动过，然后每次循环都会进入那个if的判断语句，每次都会被重置回5000= =一开始我还在想<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (1) </span><br><span class="line">   &#123;    </span><br><span class="line">u8 err=1;  </span><br><span class="line">   <span class="keyword">if</span>((datas[2]/16==0)&amp;&amp;(datas[2]%16==12)&amp;&amp;(err&gt;0))</span><br><span class="line"> &#123;</span><br><span class="line"> </span><br><span class="line">   sec = 5000;</span><br><span class="line">   err--;</span><br><span class="line"> &#125; &#125;</span><br></pre></td></tr></table></figure></p><p>其实是一个看上去好像没问题，但其实逻辑上又是个GG的死法。本来想就按一次进一次，因为这样每次其实不也是都会重置5000吗= =<br>后来才想到个更简单的方法，直接把datas[2]的数据给改就好了（就相当于软件里按了个别的按钮，这样后面的循环就没办法再进入if语句重置5000数字了）<br>顺带一提后来想起，如果想要实现中断嵌套的话，应该把上面的判断语句改到去中断里面= =其实因为0比1优先级高，所以效果放哪里都没差= =</p><hr><p>然后AD我觉得和教程有一点不一样的坑点就是……我的Lisecnece文件和教程里面的Lisecence文件长得完全不一样=  =但是瞎点了个，给破解了……就行了= =</p><hr><p>2018-03-22<br>好久都没更新了呢= =话说这文应该转成小车学习心得了吧= =<br>我觉得目前最大的困难是难以理解机协提供的附带程序-  -；</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script src=&quot;\assets\js\APlayer.min.js&quot;&gt; &lt;/script&gt;&lt;p&gt;2018-3-3&lt;br&gt;&lt;a href=&quot;https://toavancer-1256051997.cos.ap-guangzhou.myqcloud.com/%E6%89%
      
    
    </summary>
    
      <category term="单片机" scheme="https://toavancer.github.io/categories/%E5%8D%95%E7%89%87%E6%9C%BA/"/>
    
    
      <category term="单片机" scheme="https://toavancer.github.io/tags/%E5%8D%95%E7%89%87%E6%9C%BA/"/>
    
  </entry>
  
  <entry>
    <title>留言板制作</title>
    <link href="https://toavancer.github.io/2018/02/10/%E7%95%99%E8%A8%80%E6%9D%BF/"/>
    <id>https://toavancer.github.io/2018/02/10/留言板/</id>
    <published>2018-02-10T13:52:01.000Z</published>
    <updated>2018-05-04T14:33:06.981Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><p>感谢视频<a href="https://www.bilibili.com/video/av4770115/index_2.html#page=2" target="_blank" rel="noopener">php留言板製作</a><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">class Message&#123;</span><br><span class="line">    public <span class="variable">$name</span>;</span><br><span class="line">    public <span class="variable">$time</span>;</span><br><span class="line">    public <span class="variable">$content</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> __construct(<span class="variable">$n</span>,<span class="variable">$t</span>,<span class="variable">$c</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="variable">$this</span>-&gt;name = <span class="variable">$n</span>;</span><br><span class="line">        <span class="variable">$this</span>-&gt;time = <span class="variable">$t</span>;</span><br><span class="line">        <span class="variable">$this</span>-&gt;content = <span class="variable">$c</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">function</span>  show()</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">"Name:"</span>.<span class="variable">$this</span>-&gt;name.<span class="string">"&lt;br&gt;"</span>;</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">"Time:"</span>.<span class="variable">$this</span>-&gt;time.<span class="string">"&lt;br&gt;"</span>;</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">"Content:"</span>.<span class="variable">$this</span>-&gt;content.<span class="string">"&lt;br&gt;"</span>;</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">"========================"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable">$m</span>= new Message(<span class="string">"Ly"</span>,<span class="string">"2018-02-10"</span>,<span class="string">"？？？"</span>);</span><br><span class="line"><span class="variable">$m</span>-&gt;show();</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure></p><p>万万没想到第一个坑居然卡在这里……我还特地翻了书关于对象的内容= =我还在想，难道是把实参的东西给show吗？？好吧后来查出来了是【__consturct】而不是【_consturct】：）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">class Message&#123;</span><br><span class="line">    public <span class="variable">$name</span>;</span><br><span class="line">    public <span class="variable">$time</span>;</span><br><span class="line">    public <span class="variable">$content</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> __construct(<span class="variable">$n</span>,<span class="variable">$t</span>,<span class="variable">$c</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="variable">$this</span>-&gt;name = <span class="variable">$n</span>;</span><br><span class="line">        <span class="variable">$this</span>-&gt;time = <span class="variable">$t</span>;</span><br><span class="line">        <span class="variable">$this</span>-&gt;content = <span class="variable">$c</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">function</span>  show()</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">"Name:"</span>.<span class="variable">$this</span>-&gt;name.<span class="string">"&lt;br&gt;"</span>;</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">"Time:"</span>.<span class="variable">$this</span>-&gt;time.<span class="string">"&lt;br&gt;"</span>;</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">"Content:"</span>.<span class="variable">$this</span>-&gt;content.<span class="string">"&lt;br&gt;"</span>;</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">"========================"</span>.<span class="string">"&lt;br&gt;"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">//<span class="variable">$m</span>= new Message(<span class="string">"Ly"</span>,<span class="string">"2018-02-10"</span>,<span class="string">"I am you."</span>);</span><br><span class="line">//<span class="variable">$m</span>-&gt;show();</span><br><span class="line">class DB&#123;</span><br><span class="line">    public <span class="variable">$database</span>=null;</span><br><span class="line">    <span class="keyword">function</span> __construct()</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="variable">$dbhost</span>=<span class="string">"localhost"</span>;//127.0.0.1</span><br><span class="line">        <span class="variable">$account</span>=<span class="string">"root"</span>;</span><br><span class="line">        <span class="variable">$password</span>=<span class="string">"****"</span>;</span><br><span class="line"></span><br><span class="line">        <span class="variable">$this</span>-&gt;database=mysqli_connect(<span class="variable">$dbhost</span>,<span class="variable">$account</span>,<span class="variable">$password</span>);</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable">$this</span>-&gt;database)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">echo</span><span class="string">"DB connected"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">echo</span><span class="string">"DBdisconect"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable">$result</span>=mysqli_select_db(<span class="string">"db_messages"</span>,<span class="variable">$this</span>-&gt;database);</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable">$result</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">echo</span><span class="string">"Success!!"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">echo</span><span class="string">"Failed:("</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">function</span> __destruct()</span><br><span class="line">    &#123;//disconnect</span><br><span class="line">        // TODO: Implement __destruct() method.</span><br><span class="line">    mysqli_close(<span class="variable">$this</span>-&gt;database);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$db</span>=new DB;</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><p>并没有连上；）<br>一次次失落过后的平静：）<br>看视频有两个坑点需要注意下：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqli_query(<span class="variable">$this</span>-&gt;database,<span class="variable">$query</span>)</span><br></pre></td></tr></table></figure></p><p>好像我现在用这个版本用不了mysql<em>的相关函数= =只能用mysqli</em>= =ian（录制者）用的好像是mysql_query($query)；就好了<br>我觉得最坑的果然还是我自己吧：）<br>去了个联网的phpadmin网站，然后打死都连不上去：）最后发现在phpstudy软件找个phpadmin才能连上数据库。<br>又给我开了一个新大门，不用面对黑漆漆的窗口自己创数据库自己select啥的www。<br>哎对数据库的世界真是两眼一抹黑（抽根烟冷静下：）<br>答案：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line">MessageBoard.php:</span><br><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">include_once(<span class="string">'item.php'</span>);</span><br><span class="line"></span><br><span class="line">class MessageBoard extends DB &#123;</span><br><span class="line">    public <span class="variable">$messages</span> = array();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> __construct()</span><br><span class="line">    &#123;</span><br><span class="line">        parent::__construct();</span><br><span class="line">        <span class="variable">$this</span>-&gt;receiveMesssage();</span><br><span class="line">        <span class="variable">$this</span>-&gt;loadData();</span><br><span class="line">        <span class="variable">$this</span>-&gt;showAllMessages();</span><br><span class="line">        <span class="variable">$this</span>-&gt;showForm();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">function</span> receiveMesssage()</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(count(<span class="variable">$_POST</span>)!=0)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="variable">$this</span>-&gt;saveData(<span class="variable">$_POST</span>[<span class="string">'username'</span>],date(<span class="string">"Y-m-d h:i:s"</span>,time()),<span class="variable">$_POST</span>[<span class="string">'content'</span>]);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">function</span> saveData(<span class="variable">$u</span>,<span class="variable">$t</span>,<span class="variable">$c</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="variable">$query</span>=<span class="string">"INSERT INTO `test2`(`name`,`time`,`content`)VALUE ('"</span>.<span class="variable">$u</span>.<span class="string">"','"</span>.<span class="variable">$t</span>.<span class="string">"','"</span>.<span class="variable">$c</span>.<span class="string">"');"</span>;</span><br><span class="line">        mysqli_query(<span class="variable">$this</span>-&gt;database,<span class="variable">$query</span>);</span><br><span class="line"></span><br><span class="line">        //<span class="built_in">echo</span> <span class="variable">$query</span>;</span><br><span class="line">       /* <span class="built_in">echo</span> <span class="string">"userName:"</span>.<span class="variable">$u</span>.<span class="string">"&lt;br&gt;"</span>;</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">"time:"</span>.<span class="variable">$t</span>.<span class="string">"&lt;br&gt;"</span>;</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">"content:"</span>.<span class="variable">$c</span>.<span class="string">"&lt;br&gt;"</span>;*/</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">function</span> loadData()</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">"&lt;br&gt;"</span>;</span><br><span class="line">        <span class="variable">$query</span>=<span class="string">"SELECT * FROM  `test2` ;"</span>;</span><br><span class="line">        <span class="variable">$result</span>=mysqli_query(<span class="variable">$this</span>-&gt;database,<span class="variable">$query</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span>(<span class="variable">$row</span>=mysqli_fetch_array(<span class="variable">$result</span>))</span><br><span class="line">        &#123;</span><br><span class="line"></span><br><span class="line">            <span class="variable">$temp</span>=new Message(<span class="variable">$row</span>[<span class="string">'name'</span>],<span class="variable">$row</span>[<span class="string">'time'</span>], <span class="variable">$row</span>[<span class="string">'content'</span>]);</span><br><span class="line">            array_push(<span class="variable">$this</span>-&gt;messages,<span class="variable">$temp</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        /*<span class="variable">$temp</span>=new Message(<span class="string">"Ly"</span>,<span class="string">"2018-02-10"</span>,<span class="string">"I am you."</span>);</span><br><span class="line">        array_push(<span class="variable">$this</span>-&gt;messages,<span class="variable">$temp</span>);</span><br><span class="line">        <span class="variable">$temp</span>=new Message(<span class="string">"Avancer"</span>,<span class="string">"2018-02-10"</span>,<span class="string">"I am you."</span>);</span><br><span class="line">        array_push(<span class="variable">$this</span>-&gt;messages,<span class="variable">$temp</span>);*/</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">function</span> showAllMessages()</span><br><span class="line">    &#123;</span><br><span class="line">        foreach(<span class="variable">$this</span>-&gt;messages as <span class="variable">$m</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="variable">$m</span>-&gt;show();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">function</span> showForm()</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">"&lt;form action=''method='post'&gt;"</span>;</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">"Name:"</span>.<span class="string">"&lt;input type ='text' name='username'&gt;"</span>.<span class="string">"&lt;br&gt;"</span>;</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">"Content:"</span>.<span class="string">"&lt;input type'text' name='content'&gt;"</span>;</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">"&lt;input type='submit'&gt;"</span>;</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">"&lt;/form&gt;"</span>;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable">$mb</span>=new MessageBoard();</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure></p><p>item.php<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">class Message&#123;</span><br><span class="line">    public <span class="variable">$name</span>;</span><br><span class="line">    public <span class="variable">$time</span>;</span><br><span class="line">    public <span class="variable">$content</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> __construct(<span class="variable">$n</span>,<span class="variable">$t</span>,<span class="variable">$c</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="variable">$this</span>-&gt;name = <span class="variable">$n</span>;</span><br><span class="line">        <span class="variable">$this</span>-&gt;time = <span class="variable">$t</span>;</span><br><span class="line">        <span class="variable">$this</span>-&gt;content = <span class="variable">$c</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">function</span>  show()</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">"Name:"</span>.<span class="variable">$this</span>-&gt;name.<span class="string">"&lt;br&gt;"</span>;</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">"Time:"</span>.<span class="variable">$this</span>-&gt;time.<span class="string">"&lt;br&gt;"</span>;</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">"Content:"</span>.<span class="variable">$this</span>-&gt;content.<span class="string">"&lt;br&gt;"</span>;</span><br><span class="line">        <span class="built_in">echo</span> <span class="string">"========================"</span>.<span class="string">"&lt;br&gt;"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">//<span class="variable">$m</span>= new Message(<span class="string">"Ly"</span>,<span class="string">"2018-02-10"</span>,<span class="string">"I am you."</span>);</span><br><span class="line">//<span class="variable">$m</span>-&gt;show();</span><br><span class="line">class DB&#123;</span><br><span class="line">    public <span class="variable">$database</span>=null;</span><br><span class="line">    <span class="keyword">function</span> __construct()</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="variable">$dbhost</span>=<span class="string">"localhost"</span>;//127.0.0.1</span><br><span class="line">        <span class="variable">$account</span>=<span class="string">"root"</span>;</span><br><span class="line">        <span class="variable">$password</span>=<span class="string">"*****"</span>;</span><br><span class="line">        <span class="variable">$data</span>=<span class="string">"chuli"</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="variable">$this</span>-&gt;database=mysqli_connect(<span class="variable">$dbhost</span>,<span class="variable">$account</span>,<span class="variable">$password</span>,<span class="variable">$data</span>);</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable">$this</span>-&gt;database)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">echo</span><span class="string">"DB connected"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">echo</span><span class="string">"DBdisconect"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    /*<span class="variable">$result</span>=mysqli_select_db(<span class="variable">$this</span>-&gt;database,<span class="string">"all_message"</span>);</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable">$result</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">echo</span><span class="string">"Success!!"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">echo</span><span class="string">"Failed!"</span>;</span><br><span class="line">    &#125;*/</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">function</span> __destruct()</span><br><span class="line">    &#123;//disconnect</span><br><span class="line">        // TODO: Implement __destruct() method.</span><br><span class="line">    mysqli_close(<span class="variable">$this</span>-&gt;database);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//<span class="variable">$db</span>=new DB;</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure></p><p>忘了说了，本来视频是有个$result=mysqli_select_db($this-&gt;database,”all_message”);后来我看了一下<a href="https://www.imooc.com/qadetail/79594" target="_blank" rel="noopener">怎么试也不成功，这节课的内容改成mysqli_select_db 也不管用</a><br>答案：<br>用mysqli_connect()连接数据库，在最后一个属性里添上要选择的数据库名称，就省去了选择数据库的操作。<br>比如mysqli_connect(‘localhost:3306’, ‘root’, ‘’, ‘test’);    第四个“test”就是数据库名称。<br>语法不同而已。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script src=&quot;\assets\js\APlayer.min.js&quot;&gt; &lt;/script&gt;&lt;p&gt;感谢视频&lt;a href=&quot;https://www.bilibili.com/video/av4770115/index_2.html#page=2&quot; target=&quot;_bla
      
    
    </summary>
    
      <category term="PHP" scheme="https://toavancer.github.io/categories/PHP/"/>
    
    
      <category term="PHP" scheme="https://toavancer.github.io/tags/PHP/"/>
    
  </entry>
  
  <entry>
    <title>mysql</title>
    <link href="https://toavancer.github.io/2018/02/09/mysql/"/>
    <id>https://toavancer.github.io/2018/02/09/mysql/</id>
    <published>2018-02-09T09:04:22.000Z</published>
    <updated>2018-03-03T15:17:16.104Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><p>今天摸鱼选择摸数据库……想起了师傅叫我年前搞定留言板，不然就觉得我学习能力有问题/捂脸<br>越学越心累……是因为假期在家太懒只想睡觉的原因吗=_=<br>好的说回正题：<br>关于数据库的创建我简直两眼一抹黑= =而且我也太依赖w3scool的感觉= =建立数据库用phpstrom在php文件建立（躺）</p><p>光是建立个破表都N多波折：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; create table 123(</span><br><span class="line">    -&gt; id int auto_increment primary key,</span><br><span class="line">    -&gt; user varchar(30) not null,</span><br><span class="line">    -&gt; <span class="built_in">pwd</span> varchar(30) not null,</span><br><span class="line">    -&gt; createtime datetime);</span><br></pre></td></tr></table></figure></p><p>本来是这样输入的结果显示：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ERROR 1064 (42000): You have an error <span class="keyword">in</span> your SQL syntax; check the manual that corresponds to your MySQL server version <span class="keyword">for</span> the right syntax to use near <span class="string">'123(</span></span><br><span class="line"><span class="string">id int auto_increment primary key,</span></span><br><span class="line"><span class="string">user varchar(30) not null,</span></span><br><span class="line"><span class="string">pwd varchar(3'</span> at line 1</span><br></pre></td></tr></table></figure></p><p>完全看不懂呢：）<br>对比别人的源码：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE states (</span><br><span class="line">id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,</span><br><span class="line"> state CHAR(25),</span><br><span class="line"> population INT(9));</span><br></pre></td></tr></table></figure></p><p>怎么看都是大小写的区别吧喂：）<br>结果参考了一下<a href="http://blog.csdn.net/jdjdndhj/article/details/70242174" target="_blank" rel="noopener">完美解决 ERROR 1064 (42000)</a>从这句话<font color="#ff000">【在MySQL中，为了区分MySQL的关键字与普通字符，MySQL引入了一个反引号。 】</font>中得到了启发……搞不好是因为表名123的错……后来改成了表名sta结果真是：）<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; create table sta(</span><br><span class="line">    -&gt; d int auto_increment primary key,</span><br><span class="line">    -&gt; user varchar(30) not null,</span><br><span class="line">    -&gt; <span class="built_in">pwd</span> varchar(30) not null);</span><br></pre></td></tr></table></figure></p><p>id不小心漏了个i= =<br>insert<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; insert into sta(d,user,<span class="built_in">pwd</span>)</span><br><span class="line">    -&gt; VALUES(<span class="string">'0'</span>,<span class="string">'a'</span>,<span class="string">'123'</span>),(<span class="string">'3'</span>,<span class="string">'C'</span>,<span class="string">'123'</span>),(<span class="string">'2'</span>,<span class="string">'B'</span>,<span class="string">'123'</span>);</span><br></pre></td></tr></table></figure></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; select *from sta;</span><br><span class="line">+---+------+-----+</span><br><span class="line">| d | user | <span class="built_in">pwd</span> |</span><br><span class="line">+---+------+-----+</span><br><span class="line">| 1 | a    | 123 |</span><br><span class="line">| 3 | C    | 123 |</span><br><span class="line">| 2 | B    | 123 |</span><br><span class="line">+---+------+-----+</span><br></pre></td></tr></table></figure><p>关于使用PHP MySQL 创建数据库和表<br>使用以下代码：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"><span class="variable">$con</span> = mysql_connect(<span class="string">"localhost"</span>,<span class="string">"peter"</span>,<span class="string">"abc123"</span>);</span><br><span class="line"><span class="keyword">if</span> (!<span class="variable">$con</span>)</span><br><span class="line">  &#123;</span><br><span class="line">  die(<span class="string">'Could not connect: '</span> . mysql_error());</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (mysql_query(<span class="string">"CREATE DATABASE my_db"</span>,<span class="variable">$con</span>))</span><br><span class="line">  &#123;</span><br><span class="line">  <span class="built_in">echo</span> <span class="string">"Database created"</span>;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">  &#123;</span><br><span class="line">  <span class="built_in">echo</span> <span class="string">"Error creating database: "</span> . mysql_error();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">mysql_close(<span class="variable">$con</span>);</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure></p><p>出的错误结果是：</p><p>Deprecated: mysql_connect(): The mysql extension is deprecated and will be removed in the future: use mysqli or PDO instead in D:\code\phpstudy\PHPTutorial\WWW\mysql.php on line 33</p><p>Warning: mysql_connect(): Access denied for user ‘peter’@’localhost’ (using password: YES) in D:\code\phpstudy\PHPTutorial\WWW\mysql.php on line 33<br>Could not connect: Access denied for user ‘peter’@’localhost’ (using password: YES)</p><p>完全不知道是什么意思呢：）而且phpstrom关于mysql_query有划线符号的骚操作让我：？？？<br>感谢<a href="https://zhidao.baidu.com/question/362177123044462972.html" target="_blank" rel="noopener">百度知道给的操作</a></p><p>然而问题还是没有解决呢：）<br>修改后终于能运行sql语句了（躺<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="variable">$con</span> = mysqli_connect(<span class="string">"localhost"</span>,<span class="string">"root"</span>,<span class="string">"xin27272"</span>,<span class="string">"chuli"</span>);</span><br><span class="line"><span class="keyword">if</span> (!<span class="variable">$con</span>)</span><br><span class="line">&#123;</span><br><span class="line">    die(<span class="string">'Could not connect: '</span> . mysqli_error(<span class="variable">$con</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (mysqli_query(<span class="variable">$con</span>,<span class="string">"CREATE DATABASE my_db"</span>))</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"Database created"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"Error creating database: "</span> . mysqli_error(<span class="variable">$con</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">mysqli_close(<span class="variable">$con</span>);</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line">//CREATE DATABASE database_name</span><br><span class="line"><span class="variable">$con</span> = mysqli_connect(<span class="string">"localhost"</span>,<span class="string">"root"</span>,<span class="string">"xin27272"</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(!<span class="variable">$con</span>)</span><br><span class="line">&#123;</span><br><span class="line">    die(<span class="string">'Could not connect:'</span>.mysqli_connect_error());</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(mysqli_query(<span class="variable">$con</span>,<span class="string">"CREATE DATABASE my_db"</span>))</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">echo</span><span class="string">"Database created"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">echo</span> <span class="string">"Error creating database:"</span>.mysqli_error(<span class="variable">$con</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">mysqli_select_db(<span class="variable">$con</span>,<span class="string">"my_db"</span>);</span><br><span class="line"><span class="variable">$sql</span>=<span class="string">"CREATE TABLE Persons</span></span><br><span class="line"><span class="string">(</span></span><br><span class="line"><span class="string">    FirstName varchar(15),</span></span><br><span class="line"><span class="string">    LastName varchar(15),</span></span><br><span class="line"><span class="string">    Age int </span></span><br><span class="line"><span class="string">)"</span>;</span><br><span class="line"></span><br><span class="line">mysqli_query(<span class="variable">$con</span>,<span class="variable">$sql</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">mysqli_close(<span class="variable">$con</span>);</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><p>解决方案：需要上网查mysqli相关函数的使用方法，因为w3scool给的是目前我使用版本用不了的mysql_()函数= =与Mysqli函数有些许用处不一样的地方。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script src=&quot;\assets\js\APlayer.min.js&quot;&gt; &lt;/script&gt;&lt;p&gt;今天摸鱼选择摸数据库……想起了师傅叫我年前搞定留言板，不然就觉得我学习能力有问题/捂脸&lt;br&gt;越学越心累……是因为假期在家太懒只想睡觉的原因吗=_=&lt;br&gt;好的说回正题：&lt;b
      
    
    </summary>
    
      <category term="PHP" scheme="https://toavancer.github.io/categories/PHP/"/>
    
    
      <category term="PHP" scheme="https://toavancer.github.io/tags/PHP/"/>
    
      <category term="MYSQL" scheme="https://toavancer.github.io/tags/MYSQL/"/>
    
  </entry>
  
  <entry>
    <title>安利向</title>
    <link href="https://toavancer.github.io/2018/02/05/%E5%AE%89%E5%88%A9%E5%90%91/"/>
    <id>https://toavancer.github.io/2018/02/05/安利向/</id>
    <published>2018-02-05T05:03:57.000Z</published>
    <updated>2018-02-05T05:05:02.210Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><h1 id="人力资源机器"><a href="#人力资源机器" class="headerlink" title="人力资源机器"></a>人力资源机器</h1><p>好像还有其他编程游戏，但是另外一款界面和操作太禅意了就没玩了= =<br>—-tbc</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script src=&quot;\assets\js\APlayer.min.js&quot;&gt; &lt;/script&gt;&lt;h1 id=&quot;人力资源机器&quot;&gt;&lt;a href=&quot;#人力资源机器&quot; class=&quot;headerlink&quot; title=&quot;人力资源机器&quot;&gt;&lt;/a&gt;人力资源机器&lt;/h1&gt;&lt;p&gt;好像还有
      
    
    </summary>
    
      <category term="游戏" scheme="https://toavancer.github.io/categories/%E6%B8%B8%E6%88%8F/"/>
    
    
      <category term="安利" scheme="https://toavancer.github.io/tags/%E5%AE%89%E5%88%A9/"/>
    
      <category term="游戏" scheme="https://toavancer.github.io/tags/%E6%B8%B8%E6%88%8F/"/>
    
  </entry>
  
  <entry>
    <title>指针（犯错向）</title>
    <link href="https://toavancer.github.io/2018/02/03/%E6%8C%87%E9%92%88/"/>
    <id>https://toavancer.github.io/2018/02/03/指针/</id>
    <published>2018-02-03T11:49:57.000Z</published>
    <updated>2018-02-08T00:47:05.305Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><h1 id="前言："><a href="#前言：" class="headerlink" title="前言："></a>前言：</h1><p>PHP学得太枯燥了……完全静不下心学=_=那就只能摸C习题来逃避了（醒醒</p><p>不知道是不是我太久没写指针了……做第一道简单题我就GG了，很是尴尬= =<br>题目：三个整数从小到大输出</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#include&lt;stdio.h&gt;</span></span><br><span class="line"></span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">int swap(int *p1,int *p2); </span><br><span class="line">int *p1,*p2,*p3;</span><br><span class="line">int a,b,c;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"请输入三个整数"</span>); </span><br><span class="line">scanf(<span class="string">"%d"</span>,&amp;a);</span><br><span class="line">scanf(<span class="string">"%d"</span>,&amp;b);</span><br><span class="line">scanf(<span class="string">"%d"</span>,&amp;c);</span><br><span class="line">p1=&amp;a;p2=&amp;b;p3=&amp;c;</span><br><span class="line"><span class="keyword">if</span>(a&gt;b)swap(p1,p2);</span><br><span class="line"><span class="keyword">if</span>(b&gt;c)swap(p2,p3);</span><br><span class="line"><span class="keyword">if</span>(a&gt;c)swap(p1,p3);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d,%d,%d"</span>,a,b,c);//<span class="built_in">printf</span>(<span class="string">"%d,%d,%d"</span>,*p1,*p2,*p3);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int swap(int *p1,int *p2)</span><br><span class="line">&#123;</span><br><span class="line">int t;       //错解：  int *t;</span><br><span class="line">t=*p1;     //       t=p1;</span><br><span class="line">*p1=*p2;    //      p1=p2;</span><br><span class="line">*p2=t;     //      p2=t;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>输入：3 1 5<br>显示结果：3 1 5<br>我：？？？发生了什么<br>经过答案对比才知道问题出在swap函数的编写上= =刚刚我还认为问题可能出现在令t为指针这个做法是错误的。实际上……我犯了几个错误：</p><h3 id="1-指针之间的赋值要自带-号"><a href="#1-指针之间的赋值要自带-号" class="headerlink" title="1.指针之间的赋值要自带*号"></a>1.指针之间的赋值要自带*号</h3><p>已知：指针储存的是地址信息。</p><pre><code>* 为取值操作符</code></pre><p>（刚看回笔记看到<em>的作用- -我就懂了为什么要加</em>号了）（看来我记忆退化得很严重啊（烟</p><h3 id="2-指针之间赋值前提是，两个指针都得有【确切的】地址信息"><a href="#2-指针之间赋值前提是，两个指针都得有【确切的】地址信息" class="headerlink" title="2.指针之间赋值前提是，两个指针都得有【确切的】地址信息"></a>2.指针之间赋值前提是，两个指针都得有【确切的】地址信息</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">int swap(int *p1,int *p2)</span><br><span class="line">&#123;</span><br><span class="line">int *t;</span><br><span class="line">int a;t=&amp;a;//没有这行会GG我会乱说？</span><br><span class="line">*t=*p1;</span><br><span class="line">*p1=*p2;</span><br><span class="line">*p2=*t;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d%d%d\n"</span>,*p1,*p2,*t);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>如果swap函数里的t是指针的话，就得赋确切的值……</p><h3 id="存疑·解决"><a href="#存疑·解决" class="headerlink" title="存疑·解决"></a>存疑·解决</h3><p>疑问：printf(“%d,%d,%d”,a,b,c);<br>abc出场也就被赋了个值……判了个断？？<br>数值发生了改变的操作是最让我感到神奇的……<br>p1p2拿了ab地址数值去换，最多结果就是p1和p2手里拿的地址和数值变更了。但是ab数值发生改动这个操作怕是有点骚哦？？？<br>解决：好吧和小伙伴讨论了一下：）是我理解出现问题了<br>在swap函数里面，a和b是出现了数值变动的。</p><p><font color="009933">eg:</font><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">*p1=*p2</span><br></pre></td></tr></table></figure></p><p>就是说：<br>(<em>p1==a==3) = (</em>p2==b==1)<br>也就是说*p1不只是代表a的数值，拿出来的还有变量a。一旦交换，变量a的数值也发生了变动。</p><p>感想：感觉我指针学了还还了学不断反复没有理解学好（躺</p><p>#比较字符串大小<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#include&lt;stdio.h&gt;</span></span><br><span class="line"><span class="comment">#include&lt;string.h&gt;</span></span><br><span class="line"></span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">int compare(char *p1,char *p2); </span><br><span class="line">char str1[50],str2[50],str3[50];</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"请输入第一个字符串"</span>); </span><br><span class="line">gets(str1); </span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"请输入第二个字符串"</span>); </span><br><span class="line">gets(str2);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"请输入第三个字符串"</span>); </span><br><span class="line">gets(str3);</span><br><span class="line">compare(str1,str2);</span><br><span class="line">compare(str1,str3);</span><br><span class="line">puts(str1);</span><br><span class="line">puts(str2);</span><br><span class="line">puts(str3);</span><br><span class="line">compare(str2,str3);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"结果分界线\n"</span>); </span><br><span class="line">puts(str1);</span><br><span class="line">puts(str2);</span><br><span class="line">puts(str3);</span><br><span class="line"><span class="built_in">return</span> 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int compare(char *p1,char *p2)</span><br><span class="line">&#123;</span><br><span class="line">int i=0;</span><br><span class="line">char t;</span><br><span class="line"><span class="keyword">while</span>(p1[i]!=<span class="string">'\0'</span>&amp;&amp;p2[i]!=<span class="string">'\0'</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(p1[i]&lt;p2[i])</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(p1[i]==p2[i])&#123;&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(p1[i]&gt;p2[i])</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span>(i=0;p1[i]!=<span class="string">'\0'</span>&amp;&amp;p2[i]!=<span class="string">'\0'</span>;i++)</span><br><span class="line">&#123;</span><br><span class="line">t=p2[i];</span><br><span class="line">p2[i]=p1[i];</span><br><span class="line">p1[i]=t;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">i++; </span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">return</span> 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>一开始忘了什么getsputs啊字符串的用法又返回去看了……<br>解决了第一题比大小……感觉这题就变得轻松一点了<br>嗯答案直接用strcmp函数去做……果然代码看起来比我自己写要简单= =</p><h1 id="3-输入10个整数，将最小的数与第一个数对换，把最大的数与最后一个数对换，写三个函数：①输入10个数②进行处理③输出10个数"><a href="#3-输入10个整数，将最小的数与第一个数对换，把最大的数与最后一个数对换，写三个函数：①输入10个数②进行处理③输出10个数" class="headerlink" title="3.输入10个整数，将最小的数与第一个数对换，把最大的数与最后一个数对换，写三个函数：①输入10个数②进行处理③输出10个数"></a>3.输入10个整数，将最小的数与第一个数对换，把最大的数与最后一个数对换，写三个函数：①输入10个数②进行处理③输出10个数</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#include&lt;stdio.h&gt;</span></span><br><span class="line"><span class="comment">#include&lt;string.h&gt;</span></span><br><span class="line"></span><br><span class="line">int input(int *a,int n)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"请输入10个整数"</span>);</span><br><span class="line">int i;</span><br><span class="line"><span class="keyword">for</span>(i=0;i&lt;n;i++)</span><br><span class="line">&#123;</span><br><span class="line">scanf(<span class="string">"%d"</span>,&amp;a[i]);</span><br><span class="line">&#125; </span><br><span class="line"><span class="built_in">return</span> 0;</span><br><span class="line">&#125;</span><br><span class="line">int output(int *a,int n)</span><br><span class="line">&#123;</span><br><span class="line">int i;</span><br><span class="line"><span class="keyword">for</span>(i=0;i&lt;n;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d\n"</span>,a[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">return</span> 0;</span><br><span class="line">&#125;</span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">int swap(int *a);</span><br><span class="line">int a[10];</span><br><span class="line">input(a,10);</span><br><span class="line">int i;</span><br><span class="line">swap(a);</span><br><span class="line">output(a,10); </span><br><span class="line"></span><br><span class="line"><span class="built_in">return</span> 0;</span><br><span class="line">&#125;</span><br><span class="line">int swap(int *a)</span><br><span class="line">&#123;</span><br><span class="line">int *max,*min;</span><br><span class="line">int t;</span><br><span class="line">int i;</span><br><span class="line"></span><br><span class="line">max=&amp;a[0];</span><br><span class="line">min=&amp;a[0];</span><br><span class="line"><span class="keyword">for</span>(i=0;i&lt;10;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(*max&lt;a[i])</span><br><span class="line">&#123;</span><br><span class="line">max=&amp;a[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(*min&gt;a[i])</span><br><span class="line">&#123;</span><br><span class="line">min=&amp;a[i];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">t=*min;</span><br><span class="line">min=&amp;a[0];</span><br><span class="line">a[0]=t;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d\n"</span>,t);</span><br><span class="line">t=*max;</span><br><span class="line">max=&amp;a[10];</span><br><span class="line">a[10]=t;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d\n"</span>,a[10]);</span><br><span class="line"></span><br><span class="line">/*t=a[10];</span><br><span class="line">t=*min;</span><br><span class="line">*min=&amp;a[10];</span><br><span class="line"></span><br><span class="line">t=&amp;a[0];</span><br><span class="line">*t=*max;</span><br><span class="line">*max=&amp;;*/</span><br><span class="line"><span class="built_in">return</span> 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>把数组写成a[10]和在交换过程卡了N久的我也是没救了(躺)<br>而且上面这个swap函数看似有三个瓶子……实际上只有2个：）<br>正解（才怪）：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#include&lt;stdio.h&gt;</span></span><br><span class="line"><span class="comment">#include&lt;string.h&gt;</span></span><br><span class="line"></span><br><span class="line">int input(int *a,int n)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"请输入10个整数"</span>);</span><br><span class="line">int i;</span><br><span class="line"><span class="keyword">for</span>(i=0;i&lt;n;i++)</span><br><span class="line">&#123;</span><br><span class="line">scanf(<span class="string">"%d"</span>,&amp;a[i]);</span><br><span class="line">&#125; </span><br><span class="line"><span class="built_in">return</span> 0;</span><br><span class="line">&#125;</span><br><span class="line">int output(int *a,int n)</span><br><span class="line">&#123;</span><br><span class="line">int i;</span><br><span class="line"><span class="keyword">for</span>(i=0;i&lt;n;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d\n"</span>,a[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">return</span> 0;</span><br><span class="line">&#125;</span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">int swap(int *a);</span><br><span class="line">int a[10];</span><br><span class="line">input(a,10);</span><br><span class="line">int i;</span><br><span class="line">swap(a);</span><br><span class="line">output(a,10); </span><br><span class="line"></span><br><span class="line"><span class="built_in">return</span> 0;</span><br><span class="line">&#125;</span><br><span class="line">int swap(int *a)</span><br><span class="line">&#123;</span><br><span class="line">int *max,*min;</span><br><span class="line">int *p1,*p2;</span><br><span class="line">int i,t;</span><br><span class="line"></span><br><span class="line">p1=&amp;a[0];p2=&amp;a[9];</span><br><span class="line">max=&amp;a[0];</span><br><span class="line">min=&amp;a[0];</span><br><span class="line"><span class="keyword">for</span>(i=0;i&lt;10;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(*max&lt;=a[i])</span><br><span class="line">&#123;</span><br><span class="line">max=&amp;a[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(*min&gt;=a[i])</span><br><span class="line">&#123;</span><br><span class="line">min=&amp;a[i];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">t=*p1;</span><br><span class="line">*p1=*min;</span><br><span class="line">*min=t;</span><br><span class="line">t=*p2;</span><br><span class="line">*p2=*max;</span><br><span class="line">*max=t;</span><br><span class="line"></span><br><span class="line"><span class="built_in">return</span> 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>如果按照上面这个的话会发现一个尴尬的局面<br>输入：【98 24 56 78 1 32 36 44 29 6】<br>输出：6  24  56  78  98  32  36  44  29  1<br>原因是：1和98发生了调换，min指针指向了a[4]，但是max指针还是指向a[0]，然后就会发生a[0]和a[9]调换的骚操作</p><p>解决方案：在调换代码前加个判断符号，让max指针指向地址发生了变化就好了。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(*max==a[0]||*min==a[9])</span><br><span class="line">&#123;</span><br><span class="line">t=*p1;</span><br><span class="line">*p1=*min;</span><br><span class="line">*min=t;</span><br><span class="line">max=*(&amp;min);</span><br><span class="line">t=*p2;</span><br><span class="line">*p2=*max;</span><br><span class="line">*max=t;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>值得一提的是</p><h3 id="指针间赋值：-amp-和-amp-和没有符号的区别"><a href="#指针间赋值：-amp-和-amp-和没有符号的区别" class="headerlink" title="指针间赋值：&amp;和&amp;和没有符号的区别"></a>指针间赋值：&amp;<em>和</em>&amp;和没有符号的区别</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">max=*(&amp;min);</span><br></pre></td></tr></table></figure><p>实际上写成<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">max=&amp;*min;</span><br></pre></td></tr></table></figure></p><p>和<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">max=min;</span><br></pre></td></tr></table></figure></p><p>结果都一样的。（因为思考能不能换指针地址苦恼了很久的我=_=）<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">max=*&amp;min;</span><br></pre></td></tr></table></figure></p><p>意思为：取出min指针的地址再通过这个地址拿指针储存的地址（就是a[4]的地址）<br>那么<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">max=&amp;*min;</span><br></pre></td></tr></table></figure></p><p>意思为：先取出min指针值（就是a），（<em>min==a这点我们前面已经讨论过了），所以&amp;</em>min==&amp;a （就是a[4]的地址）</p><p>max=min;直接把min指针的地址给了max……</p><h1 id="4-有n个整数，使前面个数顺序向后移动m个位置，最后m个数变成最前面m个数，写以函数实现以上功能，在主函数中输入n个整数和输出后调整后的n个数。"><a href="#4-有n个整数，使前面个数顺序向后移动m个位置，最后m个数变成最前面m个数，写以函数实现以上功能，在主函数中输入n个整数和输出后调整后的n个数。" class="headerlink" title="4.有n个整数，使前面个数顺序向后移动m个位置，最后m个数变成最前面m个数，写以函数实现以上功能，在主函数中输入n个整数和输出后调整后的n个数。"></a>4.有n个整数，使前面个数顺序向后移动m个位置，最后m个数变成最前面m个数，写以函数实现以上功能，在主函数中输入n个整数和输出后调整后的n个数。</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#include&lt;stdio.h&gt;</span></span><br><span class="line"></span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">int a[20];</span><br><span class="line">int m,n,i,j;</span><br><span class="line">int b[20];</span><br><span class="line">int swap(int *a, int n,int *b,int m);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"你想要n个整数？"</span>);</span><br><span class="line">scanf(<span class="string">"%d"</span>,&amp;n);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"input %d numbers\n"</span>,n);</span><br><span class="line"><span class="keyword">for</span>(i=0;i&lt;n;i++)</span><br><span class="line">&#123;</span><br><span class="line">scanf(<span class="string">"%d"</span>,&amp;a[i]);</span><br><span class="line">b[i]=0;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">//b[n]=0;b[n+1]=0;b[n+2]=0;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"你想要后移几位？"</span>);</span><br><span class="line">scanf(<span class="string">"%d"</span>,&amp;m);</span><br><span class="line">swap(a,n,b,m);</span><br><span class="line"><span class="keyword">for</span>(i=0;i&lt;n;i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d\t"</span>,b[i]);</span><br><span class="line">&#125; </span><br><span class="line"><span class="built_in">return</span> 0;</span><br><span class="line">&#125; </span><br><span class="line">int swap(int *p1, int n,int*p2,int m)</span><br><span class="line">&#123;</span><br><span class="line">int i;</span><br><span class="line"><span class="keyword">for</span>(i=0;i&lt;m;i++)</span><br><span class="line">&#123;</span><br><span class="line">p2++; </span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">for</span>(i=0;i&lt;n;i++)</span><br><span class="line">&#123;</span><br><span class="line">*p2=*p1;</span><br><span class="line">p2++;</span><br><span class="line">p1++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(i=0;i&lt;m;i++)</span><br><span class="line">&#123;</span><br><span class="line">p1--;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(i=0;i&lt;n+m;i++)</span><br><span class="line">&#123;</span><br><span class="line">p2--;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(i=0;i&lt;m;i++)</span><br><span class="line">&#123;</span><br><span class="line">*p2=*p1;</span><br><span class="line">p1++;p2++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line"><span class="built_in">return</span> 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>个人答案大概原理：起2个数组，一个输入用一个输出用，p1指向a[]（输入用数组），p2指向输出用数组……<br>先把整个a数组搬到B数组（但是是从b[m]开始搬），前面还有空缺的位置，然后再重新调整指针p1p2的位置……再进行搬运。<br>嗯看了下答案，答案的操作更加高端……比我我这种分块搬运答案的思路是逐个逐个搬运，运用到递归函数、和指针值传递的思想。<br>答案：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">int swap(int array[20], int n,int m)</span><br><span class="line">&#123;</span><br><span class="line">int *p,array_end;</span><br><span class="line">array_end=*(array+n-1);</span><br><span class="line">int i=0;</span><br><span class="line"><span class="keyword">for</span>(p=array+n-1;p&gt;array;p--,i++)</span><br><span class="line">&#123;</span><br><span class="line">*p=*(p-1);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"p[%d]:%d\t"</span>,i,*p);</span><br><span class="line">&#125;</span><br><span class="line">*array=array_end;</span><br><span class="line">m--;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line"><span class="keyword">if</span>(m&gt;0)swap(array,n,m);</span><br><span class="line"><span class="built_in">return</span> 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>为了方便观察我特地在swap函数加了数字i<br>（其实也没什么必要啦）<br>array_end作为常量，作用仅仅是储存a数组的最后一个数据。<br>指针P首先指向a数组的最后一个数据<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">*p=*(p-1);</span><br></pre></td></tr></table></figure></p><p>利用循环把前一个数据覆盖到后一个数据。指针p指向也发生了变动。<br>每次函数只把最后一个放到最开始，这样完成了递归函数。</p><p>……这种操作完全没想到（烟</p><h1 id="5-N个人围成一圈，顺序排号。从第一个人开始报数（从1到3报数），凡报到3的人退出圈子，问最后留下的是原来第几号？"><a href="#5-N个人围成一圈，顺序排号。从第一个人开始报数（从1到3报数），凡报到3的人退出圈子，问最后留下的是原来第几号？" class="headerlink" title="5.N个人围成一圈，顺序排号。从第一个人开始报数（从1到3报数），凡报到3的人退出圈子，问最后留下的是原来第几号？"></a>5.N个人围成一圈，顺序排号。从第一个人开始报数（从1到3报数），凡报到3的人退出圈子，问最后留下的是原来第几号？</h1><p>想起了这题屠版红包的情形……这题我在结构体（链表）的题库也见过，真的太可怕了……这题让我感到我对指针和结构体（链表）的世界一无所知</p>]]></content>
    
    <summary type="html">
    
      密码相关：birthday
    
    </summary>
    
      <category term="C语言" scheme="https://toavancer.github.io/categories/C%E8%AF%AD%E8%A8%80/"/>
    
    
      <category term="C" scheme="https://toavancer.github.io/tags/C/"/>
    
      <category term="犯错向" scheme="https://toavancer.github.io/tags/%E7%8A%AF%E9%94%99%E5%90%91/"/>
    
      <category term="指针" scheme="https://toavancer.github.io/tags/%E6%8C%87%E9%92%88/"/>
    
  </entry>
  
  <entry>
    <title>PHP_E-mail</title>
    <link href="https://toavancer.github.io/2018/02/03/PHP-E-mail/"/>
    <id>https://toavancer.github.io/2018/02/03/PHP-E-mail/</id>
    <published>2018-02-03T07:35:12.000Z</published>
    <updated>2018-09-04T09:19:40.827Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><p>……算了Email系统先放一下吧<br>要改php.ini……懒得折腾（躺</p>]]></content>
    
    <summary type="html">
    
      密码相关：birthday
    
    </summary>
    
      <category term="PHP" scheme="https://toavancer.github.io/categories/PHP/"/>
    
    
      <category term="PHP" scheme="https://toavancer.github.io/tags/PHP/"/>
    
  </entry>
  
  <entry>
    <title>数组</title>
    <link href="https://toavancer.github.io/2018/02/03/php%E6%95%B0%E7%BB%84/"/>
    <id>https://toavancer.github.io/2018/02/03/php数组/</id>
    <published>2018-02-03T07:15:35.000Z</published>
    <updated>2018-05-04T14:33:29.382Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><p>单纯记录代码<br>（突然看书发现自己数组的写法并没有学得很好呢……（蹲<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"><span class="variable">$str</span>=array(</span><br><span class="line">    <span class="string">"书籍"</span>=&gt;array(<span class="string">"文学"</span>,<span class="string">"历史"</span>,<span class="string">"豚骨拉面"</span>),</span><br><span class="line">    <span class="string">"体育用品"</span>=&gt;array(<span class="string">"m"</span>=&gt;<span class="string">"football"</span>,<span class="string">"n"</span>=&gt;<span class="string">"basketball"</span>),</span><br><span class="line">    <span class="string">"水果"</span>=&gt;array(<span class="string">"橙子"</span>,8=&gt;<span class="string">"葡萄"</span>,<span class="string">"苹果"</span>));</span><br><span class="line">print_r(<span class="variable">$str</span>);</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure></p><p>显示结果：Array ( [书籍] =&gt; Array ( [0] =&gt; 文学 [1] =&gt; 历史 [2] =&gt; 豚骨拉面 ) [体育用品] =&gt; Array ( [m] =&gt; football [n] =&gt; basketball ) [水果] =&gt; Array ( [0] =&gt; 橙子 [8] =&gt; 葡萄 [9] =&gt; 苹果 ) )</p>]]></content>
    
    <summary type="html">
    
      密码相关：birthday
    
    </summary>
    
      <category term="PHP" scheme="https://toavancer.github.io/categories/PHP/"/>
    
    
      <category term="php" scheme="https://toavancer.github.io/tags/php/"/>
    
  </entry>
  
  <entry>
    <title>11.Cookies 与 Session</title>
    <link href="https://toavancer.github.io/2018/02/02/11.Cookies%20%E4%B8%8E%20Session/"/>
    <id>https://toavancer.github.io/2018/02/02/11.Cookies 与 Session/</id>
    <published>2018-02-02T10:21:53.000Z</published>
    <updated>2018-05-04T14:33:59.208Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><p>附：本文内容参照：W3SCHOOL&amp;PHP从入门到精（fang）通(qi)<br>单纯作为笔记而已……=_=</p><h1 id="Cookies"><a href="#Cookies" class="headerlink" title="Cookies"></a>Cookies</h1><h2 id="创建cookies"><a href="#创建cookies" class="headerlink" title="创建cookies"></a>创建cookies</h2><p>根据书中的代码是这样的<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">setcookie(<span class="string">"TMCookie"</span>,<span class="string">'www.mrbccd.com'</span>);</span><br><span class="line">setcookie(<span class="string">"TMCookie"</span>,<span class="string">'www.mrbccd.com'</span>,time()+60);</span><br><span class="line">setcookie(<span class="string">"TMCookie"</span>,<span class="string">'www.mrbccd.com'</span>,time()+3600,<span class="string">"/tm/"</span>,<span class="string">".baidu.com"</span>,1);</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure></p><p>书：Cookies文件夹下会自动生成一个Cookie文件，名为administrator@1[1].txt,Cookie的有效期为60S</p><font color="#FF0000"> 尴尬的是找不到这个文件我很心累（躺</font> <h2 id="读取Cookie"><a href="#读取Cookie" class="headerlink" title="读取Cookie"></a>读取Cookie</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(!isset(<span class="variable">$_COOKIE</span>[<span class="string">"vis"</span>]))//检测cookie文件是否存在</span><br><span class="line">&#123;</span><br><span class="line">    setcookie(<span class="string">"vis"</span>,date(<span class="string">"y-m-d H:i:s"</span>));//设置一个Cookie变量</span><br><span class="line">    <span class="built_in">echo</span><span class="string">"欢迎您第一次访问网站！"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">    setcookie(<span class="string">"vis"</span>,date(<span class="string">"y-m-d H:i:s"</span>),time()+60);//设置保存Cookie失效时间的变量</span><br><span class="line">    <span class="built_in">echo</span><span class="string">"您上次访问网站的时间为："</span>.<span class="variable">$_COOKIE</span>[<span class="string">"vis"</span>];</span><br><span class="line">    <span class="built_in">echo</span><span class="string">"&lt;br&gt;"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"时间为："</span>.date(<span class="string">"y-m-d H:i:s"</span>);</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><p><img src="https://toavancer-1256051997.cos.ap-guangzhou.myqcloud.com/%E6%9C%AC%E6%AC%A1%E8%AE%BF%E9%97%AE.png" alt="第一次访问"><br><img src="https://toavancer-1256051997.cos.ap-guangzhou.myqcloud.com/%E4%B9%8B%E5%90%8E%E8%AE%BF%E9%97%AE.png" alt="再次访问"></p><h2 id="如何删除-cookie？"><a href="#如何删除-cookie？" class="headerlink" title="如何删除 cookie？"></a>如何删除 cookie？</h2><p>当删除 cookie 时，您应当使过期日期变更为过去的时间点。</p><p>删除的例子：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php </span><br><span class="line">// <span class="built_in">set</span> the expiration date to one hour ago</span><br><span class="line">setcookie(<span class="string">"user"</span>, <span class="string">""</span>, time()-3600);</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure></p><h1 id="Session"><a href="#Session" class="headerlink" title="Session"></a>Session</h1><h2 id="session的含义"><a href="#session的含义" class="headerlink" title="session的含义"></a>session的含义</h2><p>PHP session 变量用于存储有关用户会话的信息，或更改用户会话的设置。Session 变量保存的信息是单一用户的，并且可供应用程序中的所有页面使用。</p><p>PHP Session 变量<br>当您运行一个应用程序时，您会打开它，做些更改，然后关闭它。这很像一次会话。计算机清楚你是谁。它知道你何时启动应用程序，并在何时终止。但是在因特网上，存在一个问题：服务器不知道你是谁以及你做什么，这是由于 HTTP 地址不能维持状态。</p><p>通过在服务器上存储用户信息以便随后使用，PHP session 解决了这个问题（比如用户名称、购买商品等）。不过，会话信息是临时的，在用户离开网站后将被删除。如果您需要永久储存信息，可以把数据存储在数据库中。</p><p>Session 的工作机制是：为每个访问者创建一个唯一的 id (UID)，并基于这个 UID 来存储变量。UID 存储在 cookie 中，亦或通过 URL 进行传导。</p><h2 id="开始PHPsession"><a href="#开始PHPsession" class="headerlink" title="开始PHPsession"></a>开始PHPsession</h2><p>在您把用户信息存储到 PHP session 中之前，首先必须启动会话。</p><p>注释：session_start() 函数必须位于 <html> 标签之前：</html></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php session_start(); ?&gt;</span><br><span class="line"></span><br><span class="line">&lt;html&gt;</span><br><span class="line">……</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h2 id="储存Session变量"><a href="#储存Session变量" class="headerlink" title="储存Session变量"></a>储存Session变量</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">session_start();</span><br><span class="line">// store session data</span><br><span class="line"><span class="variable">$_SESSION</span>[<span class="string">'views'</span>]=1;</span><br><span class="line">?&gt;</span><br><span class="line"></span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;?php</span><br><span class="line">//retrieve session data</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"Pageviews="</span>. <span class="variable">$_SESSION</span>[<span class="string">'views'</span>];</span><br><span class="line">?&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>输出结果为：</p><p><img src="https://toavancer-1256051997.cos.ap-guangzhou.myqcloud.com/pageviews%3D1.png" alt="储存session变量"></p><p>如果session存在就自增、不存在就=1；<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">session_start();</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(isset(<span class="variable">$_SESSION</span>[<span class="string">'views'</span>]))</span><br><span class="line">  <span class="variable">$_SESSION</span>[<span class="string">'views'</span>]=<span class="variable">$_SESSION</span>[<span class="string">'views'</span>]+1;</span><br><span class="line"></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">  <span class="variable">$_SESSION</span>[<span class="string">'views'</span>]=1;</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"Views="</span>. <span class="variable">$_SESSION</span>[<span class="string">'views'</span>];</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure></p><h2 id="清空操作"><a href="#清空操作" class="headerlink" title="清空操作"></a>清空操作</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;?php</span><br><span class="line"><span class="built_in">unset</span>(<span class="variable">$_SESSION</span>[<span class="string">'views'</span>]);</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><font color="#00CCFF"><br>注意：<br>使用unset函数，要注意$_SESSION数组中某元素不能省略，即不可以一次注销整个数组，这样会禁止整个会话的功能.<br>而且也没有办法注册回来<br></font><h3 id="删除多个会话"><a href="#删除多个会话" class="headerlink" title="删除多个会话"></a>删除多个会话</h3><p>把一个空格数组赋值给$_session<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$_SESSION</span> = array();</span><br></pre></td></tr></table></figure></p><h3 id="结束当前会话"><a href="#结束当前会话" class="headerlink" title="结束当前会话"></a>结束当前会话</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">session_destroy();</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><h2 id="Session设置时间"><a href="#Session设置时间" class="headerlink" title="Session设置时间"></a>Session设置时间</h2><p>作用：一般用来对登录时间的保存</p><p>session_set_cookie_params()函数必须在session_start()之前调用！！<br>不推荐使用session_set_cookie_params()函数，因为一些浏览器可能会GG掉。所以一般手动设置失效时间。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">session_start();</span><br><span class="line"><span class="variable">$time</span>=1*60;//Session失效时间</span><br><span class="line">setcookie(session_name(),session_id(),</span><br><span class="line">    time()+<span class="variable">$time</span>,<span class="string">"/"</span>);//使用setcookie()手动设置Session失效时间</span><br><span class="line"><span class="variable">$_SESSION</span>[<span class="string">'user'</span>]=<span class="string">'mr'</span>;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><p>书本P209大概讲的是客户端禁止Cookie的情况= =</p><p>嗯之后的操作我已经没耐心看了……先马克一波吧……大概内容是session的高级应用=_=</p>]]></content>
    
    <summary type="html">
    
      密码相关：birthday
    
    </summary>
    
      <category term="PHP" scheme="https://toavancer.github.io/categories/PHP/"/>
    
    
      <category term="PHP" scheme="https://toavancer.github.io/tags/PHP/"/>
    
  </entry>
  
  <entry>
    <title>时间规划</title>
    <link href="https://toavancer.github.io/2018/01/30/%E6%97%B6%E9%97%B4%E8%A7%84%E5%88%92/"/>
    <id>https://toavancer.github.io/2018/01/30/时间规划/</id>
    <published>2018-01-30T07:49:01.000Z</published>
    <updated>2018-03-03T13:18:18.671Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><h1 id="20180202"><a href="#20180202" class="headerlink" title="20180202"></a>20180202</h1><p>13:08先去睡个觉把生物钟调回来吧。<br>14:20 开始工作 并且手残把主题改了一下把留言板的音乐改没了QAQ<br>16:48 改aplayer播放器的东西改不动（躺）只能用网易云的播放器凑合着用了（躺<br>好心疼QAQ！！本来之前那个播放器我弄得贼漂亮，特地弄了lrc文件QUQ<br>17:20 完全没有学习的念头（虽然打开了W3SCHOOL网站<br>23:00-01:00 看同人文= =和豚骨拉面</p><h1 id="20180203"><a href="#20180203" class="headerlink" title="20180203"></a>20180203</h1><p>7:30-10:00……关心国家队的事吃国家队的瓜……<br>10:00-13:00 看博多豚骨拉面的同人文以及各种保存啥的<br>第一次知道林宪明的原名是林猫梅……救命好可爱啊www<br>15:00 吃完豚骨拉面最新的漫画我终于终于要开始工作了……（大概</p><p>#20180204<br>11.才起床摸了一下午的overlord小说动画<br>做了两道指针题</p><p>#20180205<br>早上起来就是吸马场林（躺<br>11.现在才静下心来学习</p><h1 id="20180206-同学聚会又凉了一天"><a href="#20180206-同学聚会又凉了一天" class="headerlink" title="20180206 同学聚会又凉了一天"></a>20180206 同学聚会又凉了一天</h1><h1 id="20180207-补办银行卡下午晚上又水过去了"><a href="#20180207-补办银行卡下午晚上又水过去了" class="headerlink" title="20180207 补办银行卡下午晚上又水过去了"></a>20180207 补办银行卡下午晚上又水过去了</h1><h1 id="20180208-上午吸马场林下午看永生之酒"><a href="#20180208-上午吸马场林下午看永生之酒" class="headerlink" title="20180208 上午吸马场林下午看永生之酒"></a>20180208 上午吸马场林下午看永生之酒</h1><h1 id="20180209"><a href="#20180209" class="headerlink" title="20180209"></a>20180209</h1><p>看*乎看了一个小时（最主要不想爬起来学习= =<br>下午看完了ACCA13监察区……OP和人物很有特色……可惜情节有点慢，还老是吃食物真的好烦！！！特别心水利利扯格罗苏拉的头发，还有格罗苏拉被扯头发的眼神，还有揭晓尼诺是监视吉恩的场面……还有……好了不说了我感觉这个迟早成了追番颓废的日记了</p><h1 id="20180210"><a href="#20180210" class="headerlink" title="20180210"></a>20180210</h1><p>今天，我非常喜欢睡觉：）我也不知道为什么= =9.30醒来玩了一个小时手机，11.吃饭吃完饭继续睡觉睡到2.……<br>下午被数据库的那个搞到我一脸蒙蔽，完全不知道怎么解决（叹气我觉得我遇到那些网上搜不到的我就觉得我药丸了我不想做了……</p><h1 id="20180211"><a href="#20180211" class="headerlink" title="20180211"></a>20180211</h1><p>可能昨天睡多了，昨天1.睡8:30起床都没觉得困- -现在还在很精神地搞php留言板……<br>下午晚上要去应酬同学呢……<br>感觉php和数据库我还有很多不懂呢= =回家再研究下= =<br>看看过两天能不能再加点新功能：）<br>想起作业是要做5个呢……随便吧：）先把师傅布置的东西做好再说（躺</p><h1 id="20180212"><a href="#20180212" class="headerlink" title="20180212"></a>20180212</h1><p>忘了</p><h1 id="20180213"><a href="#20180213" class="headerlink" title="20180213"></a>20180213</h1><p>今天，我终于承认了【我对网页制作毫无兴趣】的事实了。<br>相当于放弃了。<br>一方面因为我懒，一方面因为没有兴趣，或者说没有那种知难而上的精神。<br>php对于我而言就是一门外语，我很遗憾我没办法领略这个语言的美妙之处，一直get不到兴趣点，一直催眠自己，好的今天要学习了，php嗯嗯</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script src=&quot;\assets\js\APlayer.min.js&quot;&gt; &lt;/script&gt;&lt;h1 id=&quot;20180202&quot;&gt;&lt;a href=&quot;#20180202&quot; class=&quot;headerlink&quot; title=&quot;20180202&quot;&gt;&lt;/a&gt;20180202&lt;/h1
      
    
    </summary>
    
      <category term="杂乱日常" scheme="https://toavancer.github.io/categories/%E6%9D%82%E4%B9%B1%E6%97%A5%E5%B8%B8/"/>
    
    
      <category term="规划" scheme="https://toavancer.github.io/tags/%E8%A7%84%E5%88%92/"/>
    
  </entry>
  
  <entry>
    <title>【置顶】关于用hexo和github建立博客的相关收录</title>
    <link href="https://toavancer.github.io/2018/01/29/My%20blog/"/>
    <id>https://toavancer.github.io/2018/01/29/My blog/</id>
    <published>2018-01-29T10:30:00.000Z</published>
    <updated>2018-09-04T09:28:41.153Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><p>偷偷吐槽：这个自带【置顶】很有贴吧气息（。</p><p>附：刚接触网页制作的萌新= =各种对小坑（虽然多半是自己做的大死）的吐槽……<br>并没有觉得dalao们的教程做得不好，只是为了加个功能翻了不少教程走了不少歪路= =可能因为有些dalao下的hexo和next主题和我下的版本略有不同，所以会出现教程的文件而我没有的尴尬情况=<em>=……<br>此建博教程仅供参考，至少20180128-20180131的这段时间我是这样搭的=</em>=</p><h2 id="请dalao轻喷谢谢QAQ"><a href="#请dalao轻喷谢谢QAQ" class="headerlink" title="请dalao轻喷谢谢QAQ"></a>请dalao轻喷谢谢QAQ</h2><h1 id="我基本是看着这个来做的"><a href="#我基本是看着这个来做的" class="headerlink" title="我基本是看着这个来做的"></a>我基本是看着这个来做的</h1><p><a href="https://www.jianshu.com/p/189fd945f38f" target="_blank" rel="noopener">搭建个人博客-hexo+github详细完整步骤</a></p><p>容易卡的点：文中[3、在_config.yml,进行基础配置]，它那里写了个 theme:landscape 但实际上如果保留这个数据来进行下面的hexo g和hexo s 就是一副GG……然后这时候就要学会看电脑反馈给我们的反馈信息了= =它当时那里老跟我讲12行有毛病。我OS：没有啊= =完全按照教程打的啊，一个字都没打错啊QAQ后来把theme:landscape这多余的一行删掉就好了。（顺带吐槽一下基本配置文件_config.yml的严格程度令人发指，多一个少一个空格多一个回车分分钟被打回= =【所以要学会看电脑反馈的信息这很重要！！！】）</p><hr><h1 id="头像篇"><a href="#头像篇" class="headerlink" title="头像篇"></a>头像篇</h1><hr><p>终于把我林的头像搬上来了/擦汗<br>附：头像上传试了那么多个，哪个比较有效呢？<br>当然是： <a href="https://www.cnblogs.com/debugzer0/articles/5461804.html" target="_blank" rel="noopener">头像教程贴</a></p><h2 id="设置右侧栏头像"><a href="#设置右侧栏头像" class="headerlink" title="设置右侧栏头像"></a>设置右侧栏头像</h2><p>编辑站点配置文件，添加如下内容</p><p>avatar: your avatar url<br>其中，your avatar url可以是<br>(1) 完整的互联网URL，你可以先将设置的头像图片放到图床上；<br>(2) 本地地址：如/upload/image/avatar.png (你需要将avatar.png文件放在/站点目录/source/upload/image/里面)。</p><h2 id="注意：如果想要把头像弄上github的话，就一定要用url，"><a href="#注意：如果想要把头像弄上github的话，就一定要用url，" class="headerlink" title="注意：如果想要把头像弄上github的话，就一定要用url，"></a>注意：如果想要把头像弄上github的话，就一定要用url，</h2><p>不知道你用本地地址行不行，反正我用本地地址不行= =（也有可能是我操作失误的原因）。</p><h1 id="设置favicon图标"><a href="#设置favicon图标" class="headerlink" title="设置favicon图标"></a>设置favicon图标</h1><p>Step 1:<br>首先要有一个常见格式名(如.jpg, .png等)的图片作为备选favicon，选择一个favicon制作网站完成制作，例如比特虫是一个免费的在线制作ico图标网站。</p><p>Step 2:<br>参考：<br>More info: <a href="http://blog.csdn.net/ganzhilin520/article/details/79048034" target="_blank" rel="noopener">.ico教程贴</a></p><p>实际上还是要改next的主题配置参数。<br>因为前面头像增加要用url的地址= =一度想要令.ico文件搞个url地址又去图床又去什么博客啥的强行弄个url= =<br>实际上发现是没必要的：）.ico文件只要本机地址就好了。不知道头像能不能也这样呢？算了我还是懒得搞了。有林林的头像我已经很满足了嘻嘻(#^.^#)</p><h1 id="侧边栏音乐播放器"><a href="#侧边栏音乐播放器" class="headerlink" title="侧边栏音乐播放器"></a>侧边栏音乐播放器</h1><p>参考： <a href="https://juejin.im/post/58eb2fd2a0bb9f006928f8c7" target="_blank" rel="noopener">hexo高阶教程：next主题优化之加入网易云音乐、网易云跟帖、炫酷动态背景、自定义样式，打造属于你自己的定制化博客</a></p><p>在hexo\themes\next\layout_macro\sidebar.swig中自己找个位置插入：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">"music163player"</span>&gt;</span><br><span class="line">&lt;iframe frameborder=<span class="string">"no"</span> border=<span class="string">"0"</span> marginwidth=<span class="string">"0"</span> marginheight=<span class="string">"0"</span> width=330 height=86 src=<span class="string">"//music.163.com/outchain/player?type=3&amp;id=1367602647&amp;auto=0&amp;height=66"</span>&gt;&lt;/iframe&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure><p>注意一下要放的【外放链接器】网易给的代码</p><h2 id="留言板放置音乐"><a href="#留言板放置音乐" class="headerlink" title="留言板放置音乐"></a>留言板放置音乐</h2><p><a href="http://tc9011.com/2016/12/24/hexo%E6%B7%BB%E5%8A%A0%E9%9F%B3%E4%B9%90%E3%80%81high%E4%B8%80%E4%B8%8B%E5%8F%8A%E4%B8%80%E4%BA%9B%E5%9D%91/" target="_blank" rel="noopener">hexo添加音乐、high一下及一些坑</a><br>因为想要增加音乐列表功能，所以不能用网易云了= =而且我想听的那些歌恰好网易云没有/VIP= =<br>所以只能用aplayer了= =</p><p>如果想要网易云被权限的音乐，两种方法：<br>1.可以直接在源页码扒外链，对着一堆代码随便找个【.mp3】或者【.m4a】啥的音乐结尾文件后缀名= =然后就能找到了<br>2.找那些什么网易云外链转换网站啥的（百度一搜大把= =</p><p>5sing同理- -（我一开始还想去注册那些小网站上传本地音乐来获得url= =</p><p>单曲：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&#123;% aplayer <span class="string">"平凡之路"</span> <span class="string">"朴树"</span> <span class="string">"https://xxx.com/%E5%B9%B3%E5%87%A1%E4%B9%8B%E8%B7%AF.mp3"</span> <span class="string">"https://xxx.com/1.jpg"</span> <span class="string">"autoplay"</span> %&#125;</span><br></pre></td></tr></table></figure></p><p>列表：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;% aplayerlist %&#125;&#123;<span class="string">"narrow"</span>: <span class="literal">false</span>,<span class="string">"autoplay"</span>: <span class="literal">false</span>,<span class="string">"showlrc"</span>: 3,<span class="string">"mode"</span>: <span class="string">"random"</span>,<span class="string">"music"</span>: [&#123;<span class="string">"title"</span>: <span class="string">"Les maudits mots d'amour - Extrait de l’opéra rock ‘Le rouge et le noir’"</span>,<span class="string">"author"</span>: <span class="string">"Côme / Haylen / Julie Fournier / Cynthia Tolleron"</span>,<span class="string">"url"</span>: </span><br><span class="line"><span class="string">"http://link.hhtjim.com/163/416424446.mp3"</span>,<span class="string">"pic"</span>: <span class="string">"http://p1.music.126.net/q43egE3OgptCpa9CzYCZhA==/17944029765447703.jpg"</span>,<span class="string">"lrc"</span>: <span class="string">""</span>&#125;,</span><br><span class="line">&#123;<span class="string">"title"</span>: <span class="string">"花冠"</span>,<span class="string">"author"</span>: <span class="string">"KAITO"</span>,<span class="string">"url"</span>: <span class="string">"http://data.5sing.kgimg.com/G031/M01/1B/07/_5MEAFXmD66ANkT-ANlQp6OFovc240.mp3"</span>,<span class="string">"pic"</span>: <span class="string">""</span>,<span class="string">"lrc"</span>:<span class="string">""</span>&#125;,</span><br><span class="line">&#123;<span class="string">"title"</span>: <span class="string">"月兔（つきうさぎ）"</span>,<span class="string">"author"</span>: <span class="string">"miku"</span>,<span class="string">"url"</span>: <span class="string">"http://data.5sing.kgimg.com/G032/M00/10/09/AJQEAFX3v7qAc4jwABXbwxtsxh0616.m4a"</span>,<span class="string">"pic"</span>: <span class="string">""</span>,<span class="string">"lrc"</span>:<span class="string">""</span>&#125;]&#125;&#123;% endaplayerlist %&#125;</span><br></pre></td></tr></table></figure></p><h1 id="菜单设置"><a href="#菜单设置" class="headerlink" title="菜单设置"></a>菜单设置</h1><p>请参考上面的网址也有教= =</p><h1 id="文章加tag的操作"><a href="#文章加tag的操作" class="headerlink" title="文章加tag的操作"></a>文章加tag的操作</h1><p>正确操作↓：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 关于用hexo和github建立博客的相关收录</span><br><span class="line">date: 2018-01-29 18:30</span><br><span class="line">tags: [git]</span><br><span class="line">categories: git</span><br><span class="line"></span><br><span class="line">---</span><br></pre></td></tr></table></figure></p><p>一开始做了大死把头部声明（？）的一部分用分割线划开了= =然后各种试法都没办法给文章加tag</p><h1 id="hexo文件上传到github"><a href="#hexo文件上传到github" class="headerlink" title="hexo文件上传到github"></a>hexo文件上传到github</h1><p>绑定完github账号就在想= =Emmmmmm……怎么传上去呢= =<br>然后又花一点时间分清localhost:4000和toavancer.github.io……<br>如果要在本地看就输入<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo s</span><br></pre></td></tr></table></figure></p><p>上传到github要先用（大概= =<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br></pre></td></tr></table></figure></p><p>再用<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo d</span><br></pre></td></tr></table></figure></p><h1 id="第三方评论系统的引用"><a href="#第三方评论系统的引用" class="headerlink" title="第三方评论系统的引用"></a>第三方评论系统的引用</h1><p>参考：<a href="https://segmentfault.com/a/1190000010104610" target="_blank" rel="noopener">网易云跟帖关闭服务后转移到来必力</a><br>搞这个玩意心里真的写满敲你吗= =<br>一开始找的某网页版本是叫我用Disqus= =结果搞了一会儿就是进不去，后来上百度搜，好吧好吧墙外之物：）<br>那么后来就去找多说，听说多说还行，好的，倒闭预定：）<br>然后根据某个帖子就去找网易云跟帖……但是……为什么是404？？天真的我以为是我没登录的原因，注册登上去了，又上不去，上百度查好吧又是一个倒闭预定呵呵：）<br>然后根据<a href="https://www.jianshu.com/p/5973c05d7100" target="_blank" rel="noopener">【干货】2个小时教你hexo博客添加评论、打赏、RSS等功能</a>结果这个教程一脸：你改个uid就能用了。我：？？？你仿佛在特意逗我笑<br><a href="https://www.jianshu.com/p/4729e92fddbe" target="_blank" rel="noopener">为next添加友言评论支持</a>搞= =前面还好好的，结果去到教程中途，一脸：我是谁我在哪？为什么教程的HEXO有这个目录，我没有的？？？这么GG的吗？？<br>于是又去找别的= =终于找到了来比力（是不是只有我看到这个想到了巧克力）<br>根据这个UP的推荐<a href="http://muchisan.tk/blog/2018/01/19/Hexo%E5%8D%9A%E5%AE%A2%E9%9B%86%E6%88%90%E6%9D%A5%E5%BF%85%E5%8A%9B%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F%E6%95%99%E7%A8%8B/" target="_blank" rel="noopener">【原创】Hexo博客集成来必力评论系统教程</a>再次发生了这是哪的惨案（找不到教程指的文件在哪）</p><p>最后！感谢这个帖子<a href="https://segmentfault.com/a/1190000010104610" target="_blank" rel="noopener">网易云跟帖关闭服务后转移到来必力</a>不过这个教程最后的两步出现了一点问题<br>1.没找到在 layout/_scripts/third-party/comments.swig 文件<br>2.加了：【最后，在 layout/_partials/comments.swig 文件中条件最后追加 LiveRe 插件是否引用的判断逻辑：】 上不了localhost:4000</p><p>附：记得在博客的文件开头加上【comment: true】 才会显示www</p><h1 id="阅读次数增加详见："><a href="#阅读次数增加详见：" class="headerlink" title="阅读次数增加详见："></a>阅读次数增加详见：</h1><p><a href="https://www.jianshu.com/p/5973c05d7100" target="_blank" rel="noopener">添加阅读次数统计</a><br><a href="https://leancloud.cn/" target="_blank" rel="noopener">LeanCloud官网</a><br>不知道为什么key和ID没办法复制- -憋屈地手输了QAQ</p><h1 id="搜索栏增加："><a href="#搜索栏增加：" class="headerlink" title="搜索栏增加："></a>搜索栏增加：</h1><p><a href="https://www.ezlippi.com/blog/2017/02/hexo-search.html" target="_blank" rel="noopener">Hexo博客添加站内搜索</a><br>强烈推荐这个！简单快捷！不用注册第三方网站<br>不过这个教程就是漏了在主题配置文件用ctrl+F搜出【local_search:】把enable false 改成true= =<br>坑：<a href="https://www.jianshu.com/p/5973c05d7100" target="_blank" rel="noopener">安装Algolia第三方插件配置搜索</a><br>用这个怎么样都装不上去气死我了：）因为[在Hexo根目录执行hexo algolia来更新Index]更新不了（叹气）</p><h1 id="留言板与音乐"><a href="#留言板与音乐" class="headerlink" title="留言板与音乐"></a>留言板与音乐</h1><p>20180131更新：<br>参考<a href="http://tc9011.com/2016/11/08/%E8%BF%91%E6%9C%9F%E5%AF%B9HEXO%E5%8D%9A%E5%AE%A2%E7%9A%84%E4%B8%80%E4%BA%9B%E4%BC%98%E5%8C%96/" target="_blank" rel="noopener">添加留言本页面</a><br>大概原理：(安装教程请看网址= =)<br>先cd到博客根目录，然后运行：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page guestbook</span><br></pre></td></tr></table></figure></p><p>在主题配置文件找到menu的相关信息设置，加上<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">留言: /guestbook/ || comments</span><br></pre></td></tr></table></figure></p><p>附： 留言: /guestbook/ || 【comments】是放.ico图像的位置= =<br>因为【Font Awesome Icons】和主题啥的配置集成好的，主要输入图像名称就好了。</p><h1 id="背景以及博文透明度调整"><a href="#背景以及博文透明度调整" class="headerlink" title="背景以及博文透明度调整"></a>背景以及博文透明度调整</h1><p>感谢<a href="http://www.qingpingshan.com/m/view.php?aid=372477" target="_blank" rel="noopener">关于HEXO搭建个人博客的点点滴滴</a><br>四：更改主题背景<br>首先找到如下路径 themes\next\source\css_custom\custom.styl 会发现里面是空的，这个文件是Next主题为我们预留的做一些自定的css样式的地方，我们添加如下代码。</p><p>//背景图片相关<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">@media screen and (min-width:1200px) &#123;</span><br><span class="line"></span><br><span class="line">    body &#123;</span><br><span class="line">    background-image:url(/images/bg.jpg);</span><br><span class="line">    background-repeat: no-repeat;</span><br><span class="line">    background-attachment:fixed;</span><br><span class="line">    background-position:50% 50%;</span><br><span class="line">    background-size: cover</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">#footer a &#123;</span></span><br><span class="line">        color:<span class="comment">#eee;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//改变背景色和透明度</span><br><span class="line">.main-inner &#123;</span><br><span class="line">    background: <span class="comment">#fff;</span></span><br><span class="line">    opacity: 0.9;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>Emmmmm……这个帖子也可以参考一下<a href="http://blog.csdn.net/qq_22844483/article/details/70157310" target="_blank" rel="noopener">hexo博客框架–nexT主题进阶设定</a><br>比较残念一点的是这个教程没有半透明博文教程</p><h1 id="置顶帖子"><a href="#置顶帖子" class="headerlink" title="置顶帖子"></a>置顶帖子</h1><p><a href="http://zhwhong.ml/2017/03/23/deal-with-hexo-article-top-problem/" target="_blank" rel="noopener">解决Hexo博客文章置顶问题</a><br>原理：在Hexo生成首页HTML时，将top值高的文章排在前面，达到置顶功能。</p><p>修改Hexo文件夹下的node_modules/hexo-generator-index/lib/generator.js<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'use strict'</span>;</span><br><span class="line">var pagination = require(<span class="string">'hexo-pagination'</span>);</span><br><span class="line">module.exports = <span class="keyword">function</span>(locals) &#123;</span><br><span class="line">  var config = this.config;</span><br><span class="line">  var posts = locals.posts.sort(config.index_generator.order_by);</span><br><span class="line">  posts.data = posts.data.sort(<span class="keyword">function</span>(a, b) &#123;</span><br><span class="line">      <span class="keyword">if</span>(a.top &amp;&amp; b.top) &#123;</span><br><span class="line">          <span class="keyword">if</span>(a.top == b.top) <span class="built_in">return</span> b.date - a.date;</span><br><span class="line">          <span class="keyword">else</span> <span class="built_in">return</span> b.top - a.top;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">else</span> <span class="keyword">if</span>(a.top &amp;&amp; !b.top) &#123;</span><br><span class="line">          <span class="built_in">return</span> -1;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">else</span> <span class="keyword">if</span>(!a.top &amp;&amp; b.top) &#123;</span><br><span class="line">          <span class="built_in">return</span> 1;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">else</span> <span class="built_in">return</span> b.date - a.date;</span><br><span class="line">  &#125;);</span><br><span class="line">  var paginationDir = config.pagination_dir || <span class="string">'page'</span>;</span><br><span class="line">  <span class="built_in">return</span> pagination(<span class="string">''</span>, posts, &#123;</span><br><span class="line">    perPage: config.index_generator.per_page,</span><br><span class="line">    layout: [<span class="string">'index'</span>, <span class="string">'archive'</span>],</span><br><span class="line">    format: paginationDir + <span class="string">'/%d/'</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line">      __index: <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p><p>最后在你想要的置顶的帖子内容头部加个</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">top: (任意数值？)</span><br></pre></td></tr></table></figure><h1 id="hexo的指令全"><a href="#hexo的指令全" class="headerlink" title="hexo的指令全"></a>hexo的指令全</h1><p><a href="https://segmentfault.com/a/1190000002632530" target="_blank" rel="noopener">hexo常用命令笔记 </a></p><h1 id="博文最近更新时间"><a href="#博文最近更新时间" class="headerlink" title="博文最近更新时间"></a>博文最近更新时间</h1><p><a href="http://blog.csdn.net/ganzhilin520/article/details/79053399" target="_blank" rel="noopener">hexo添加文章更新时间</a></p><h1 id="字体颜色变动"><a href="#字体颜色变动" class="headerlink" title="字体颜色变动"></a>字体颜色变动</h1><p>参考<a href="https://www.zhihu.com/question/49405680?sort=created" target="_blank" rel="noopener">知乎·hexo-next 博客 字体和颜色应该怎么修改？</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;font size=4 &gt; 这里输入文字，自定义大小 &lt;/font&gt;</span><br><span class="line"></span><br><span class="line">&lt;font color=<span class="string">"#FF0000"</span>&gt; 这里输入文字，自定义颜色的字体 &lt;/font&gt;</span><br></pre></td></tr></table></figure><p>效果：</p><p><font size="4"><i><u><b> 这里输入文字，自定义大小 </b></u></i></font></p><p><font color="#FF0000" backcolor="#F9F900"> 这里输入文字，自定义颜色的字体 </font><br>不过在PHPstrom的编译窗里就看不到颜色变动了=_=<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[size=6][font=黑体][backcolor=Yellow][i][u][b][color=Red][p=30, 2, left]一段话综合了字体大小为6、型号黑体、黄色背景、红色、</span><br><span class="line">[斜体、下划线、加粗、自动排版[/p][/color][/b][/u][/i][/backcolor][/font][/size]</span><br></pre></td></tr></table></figure></p><p>不过经过实验发现，字体出现背景颜色好像不太可靠，顺带一提上面的代码还是把[]改成&lt;&gt;变动输入比较好。</p><h1 id="文章设置密码方式"><a href="#文章设置密码方式" class="headerlink" title="文章设置密码方式"></a>文章设置密码方式</h1><p>参考<a href="http://blog.csdn.net/Lancelot_Lewis/article/details/53422901" target="_blank" rel="noopener">Hexo文章简单加密访问</a><br>在<font color="009933">themes-&gt;next-&gt;layout-&gt;_partials-&gt;head.swig文件</font>中加入<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    (<span class="function"><span class="title">function</span></span>()&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="string">'&#123;&#123; page.password &#125;&#125;'</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span> (prompt(<span class="string">'请输入文章密码'</span>) !== <span class="string">'&#123;&#123; page.password &#125;&#125;'</span>)&#123;</span><br><span class="line">                alert(<span class="string">'密码错误！'</span>);</span><br><span class="line">                history.back();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)();</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p><p>文章头部如下：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">---</span><br><span class="line">title: Hexo文章简单加密访问</span><br><span class="line">date: 2016-12-01 10:45:29</span><br><span class="line">tags: hexo</span><br><span class="line">categories: 博客</span><br><span class="line">keywords:</span><br><span class="line">    - Hexo</span><br><span class="line">    - 加密</span><br><span class="line">description: 文章访问密码：password</span><br><span class="line">password: password</span><br><span class="line">---</span><br></pre></td></tr></table></figure></p><p>不过看评论区好像还要个可以简单粗暴直接看密码的方式233……静态博客的惨案……<br>不过我没破解成功=w=……不了解这方面的知识惹<em>(:з」∠)</em></p><h1 id="分享按钮加成"><a href="#分享按钮加成" class="headerlink" title="分享按钮加成"></a>分享按钮加成</h1><p>参考<a href="https://blog.csdn.net/lanuage/article/details/78991798" target="_blank" rel="noopener">hexo next主题为博客添加分享功能</a></p><p>其实看到前面还好，能看懂，but看到这里就懵住了= =<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">baidushare:</span><br><span class="line">  <span class="built_in">type</span>: button</span><br><span class="line">  baidushare: <span class="literal">true</span></span><br></pre></td></tr></table></figure></p><p>Emmmmmm……在哪加啊=   =本来还想不是学这方面的有点怕不会读但实际还好233<br>后来再查了一下文章开头给的官方文件，好的主题配置文件我收拾下就滚（卑微.jpg）</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script src=&quot;\assets\js\APlayer.min.js&quot;&gt; &lt;/script&gt;&lt;p&gt;偷偷吐槽：这个自带【置顶】很有贴吧气息（。&lt;/p&gt;
&lt;p&gt;附：刚接触网页制作的萌新= =各种对小坑（虽然多半是自己做的大死）的吐槽……&lt;br&gt;并没有觉得dalao们的教程做得
      
    
    </summary>
    
    
      <category term="git" scheme="https://toavancer.github.io/tags/git/"/>
    
      <category term="收录" scheme="https://toavancer.github.io/tags/%E6%94%B6%E5%BD%95/"/>
    
      <category term="hexo" scheme="https://toavancer.github.io/tags/hexo/"/>
    
      <category term="blog" scheme="https://toavancer.github.io/tags/blog/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="https://toavancer.github.io/2018/01/28/hello-world/"/>
    <id>https://toavancer.github.io/2018/01/28/hello-world/</id>
    <published>2018-01-28T03:05:17.395Z</published>
    <updated>2018-01-31T10:26:09.883Z</updated>
    
    <content type="html"><![CDATA[<script src="\assets\js\APlayer.min.js"> </script><p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;script src=&quot;\assets\js\APlayer.min.js&quot;&gt; &lt;/script&gt;&lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Hexo&lt;/a&gt;! This is 
      
    
    </summary>
    
    
  </entry>
  
</feed>
